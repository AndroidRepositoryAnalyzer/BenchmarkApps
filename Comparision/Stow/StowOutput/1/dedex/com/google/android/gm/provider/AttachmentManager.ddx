.class public com/google/android/gm/provider/AttachmentManager
.super java/lang/Object
.source AttachmentManager.java

.inner class RestrictedMailEngine inner com/google/android/gm/provider/AttachmentManager$RestrictedMailEngine outer com/google/android/gm/provider/AttachmentManager
.field private final mAccount Ljava/lang/String;
.field private final mContentResolver Landroid/content/ContentResolver;
.field private final mContext Landroid/content/Context;
.field private final mDb Landroid/database/sqlite/SQLiteDatabase;
.field private final mRestrictedMailEngine Lcom/google/android/gm/provider/AttachmentManager$RestrictedMailEngine;
.field private final mUrls Lcom/google/android/gm/provider/Urls;

.method public <init>(Landroid/content/Context;Ljava/lang/String;Landroid/database/sqlite/SQLiteDatabase;Lcom/google/android/gm/provider/Urls;Lcom/google/android/gm/provider/AttachmentManager$RestrictedMailEngine;)V
.limit registers 8
; this: v2 (Lcom/google/android/gm/provider/AttachmentManager;)
; parameter[0] : v3 (Landroid/content/Context;)
; parameter[1] : v4 (Ljava/lang/String;)
; parameter[2] : v5 (Landroid/database/sqlite/SQLiteDatabase;)
; parameter[3] : v6 (Lcom/google/android/gm/provider/Urls;)
; parameter[4] : v7 (Lcom/google/android/gm/provider/AttachmentManager$RestrictedMailEngine;)
.line 70
	invoke-direct	{v2},java/lang/Object/<init>	; <init>()V
; v2 : Lcom/google/android/gm/provider/AttachmentManager;
.line 71
	iput-object	v3,v2,com/google/android/gm/provider/AttachmentManager.mContext Landroid/content/Context;
; v3 : Landroid/content/Context; , v2 : Lcom/google/android/gm/provider/AttachmentManager;
.line 72
	iput-object	v4,v2,com/google/android/gm/provider/AttachmentManager.mAccount Ljava/lang/String;
; v4 : Ljava/lang/String; , v2 : Lcom/google/android/gm/provider/AttachmentManager;
.line 73
	iput-object	v5,v2,com/google/android/gm/provider/AttachmentManager.mDb Landroid/database/sqlite/SQLiteDatabase;
; v5 : Landroid/database/sqlite/SQLiteDatabase; , v2 : Lcom/google/android/gm/provider/AttachmentManager;
.line 74
	iput-object	v6,v2,com/google/android/gm/provider/AttachmentManager.mUrls Lcom/google/android/gm/provider/Urls;
; v6 : Lcom/google/android/gm/provider/Urls; , v2 : Lcom/google/android/gm/provider/AttachmentManager;
.line 75
	iput-object	v7,v2,com/google/android/gm/provider/AttachmentManager.mRestrictedMailEngine Lcom/google/android/gm/provider/AttachmentManager$RestrictedMailEngine;
; v7 : Lcom/google/android/gm/provider/AttachmentManager$RestrictedMailEngine; , v2 : Lcom/google/android/gm/provider/AttachmentManager;
.line 76
	iget-object	v0,v2,com/google/android/gm/provider/AttachmentManager.mContext Landroid/content/Context;
; v0 : Landroid/content/Context; , v2 : Lcom/google/android/gm/provider/AttachmentManager;
	invoke-virtual	{v0},android/content/Context/getContentResolver	; getContentResolver()Landroid/content/ContentResolver;
; v0 : Landroid/content/Context;
	move-result-object	v0
; v0 : Landroid/content/ContentResolver;
	iput-object	v0,v2,com/google/android/gm/provider/AttachmentManager.mContentResolver Landroid/content/ContentResolver;
; v0 : Landroid/content/ContentResolver; , v2 : Lcom/google/android/gm/provider/AttachmentManager;
.line 78
	iget-object	v0,v2,com/google/android/gm/provider/AttachmentManager.mRestrictedMailEngine Lcom/google/android/gm/provider/AttachmentManager$RestrictedMailEngine;
; v0 : Lcom/google/android/gm/provider/AttachmentManager$RestrictedMailEngine; , v2 : Lcom/google/android/gm/provider/AttachmentManager;
	new-instance	v1,com/google/android/gm/provider/AttachmentManager$1
; v1 : Lcom/google/android/gm/provider/AttachmentManager$1;
	invoke-direct	{v1,v2},com/google/android/gm/provider/AttachmentManager$1/<init>	; <init>(Lcom/google/android/gm/provider/AttachmentManager;)V
; v1 : Lcom/google/android/gm/provider/AttachmentManager$1; , v2 : Lcom/google/android/gm/provider/AttachmentManager;
	invoke-interface	{v0,v1},com/google/android/gm/provider/AttachmentManager$RestrictedMailEngine/postBackgroundTask	; postBackgroundTask(Ljava/lang/Runnable;)V
; v0 : Lcom/google/android/gm/provider/AttachmentManager$RestrictedMailEngine; , v1 : Lcom/google/android/gm/provider/AttachmentManager$1;
.line 84
	iget-object	v0,v2,com/google/android/gm/provider/AttachmentManager.mRestrictedMailEngine Lcom/google/android/gm/provider/AttachmentManager$RestrictedMailEngine;
; v0 : Lcom/google/android/gm/provider/AttachmentManager$RestrictedMailEngine; , v2 : Lcom/google/android/gm/provider/AttachmentManager;
	new-instance	v1,com/google/android/gm/provider/AttachmentManager$2
; v1 : Lcom/google/android/gm/provider/AttachmentManager$2;
	invoke-direct	{v1,v2},com/google/android/gm/provider/AttachmentManager$2/<init>	; <init>(Lcom/google/android/gm/provider/AttachmentManager;)V
; v1 : Lcom/google/android/gm/provider/AttachmentManager$2; , v2 : Lcom/google/android/gm/provider/AttachmentManager;
	invoke-interface	{v0,v1},com/google/android/gm/provider/AttachmentManager$RestrictedMailEngine/postBackgroundTask	; postBackgroundTask(Ljava/lang/Runnable;)V
; v0 : Lcom/google/android/gm/provider/AttachmentManager$RestrictedMailEngine; , v1 : Lcom/google/android/gm/provider/AttachmentManager$2;
.line 89
	return-void	
.end method

.method static access$000(Lcom/google/android/gm/provider/AttachmentManager;)V
.limit registers 1
; parameter[0] : v0 (Lcom/google/android/gm/provider/AttachmentManager;)
.line 37
	invoke-direct	{v0},com/google/android/gm/provider/AttachmentManager/maybeStartNextAttachmentDownload	; maybeStartNextAttachmentDownload()V
; v0 : Lcom/google/android/gm/provider/AttachmentManager;
	return-void	
.end method

.method private deleteAttachmentAndDownloadRequest(JJ)V
.limit registers 11
; this: v6 (Lcom/google/android/gm/provider/AttachmentManager;)
; parameter[0] : v7 (J)
; parameter[1] : v9 (J)
.line 380
	const-string	v0,"Gmail"
; v0 : Ljava/lang/String;
	new-instance	v1,java/lang/StringBuilder
; v1 : Ljava/lang/StringBuilder;
	invoke-direct	{v1},java/lang/StringBuilder/<init>	; <init>()V
; v1 : Ljava/lang/StringBuilder;
	const-string	v2,"Deleting attachment id "
; v2 : Ljava/lang/String;
	invoke-virtual	{v1,v2},java/lang/StringBuilder/append	; append(Ljava/lang/String;)Ljava/lang/StringBuilder;
; v1 : Ljava/lang/StringBuilder; , v2 : Ljava/lang/String;
	move-result-object	v1
; v1 : Ljava/lang/StringBuilder;
	invoke-virtual	{v1,v7,v8},java/lang/StringBuilder/append	; append(J)Ljava/lang/StringBuilder;
; v1 : Ljava/lang/StringBuilder; , v7 : double-length
	move-result-object	v1
; v1 : Ljava/lang/StringBuilder;
	invoke-virtual	{v1},java/lang/StringBuilder/toString	; toString()Ljava/lang/String;
; v1 : Ljava/lang/StringBuilder;
	move-result-object	v1
; v1 : Ljava/lang/String;
	invoke-static	{v0,v1},android/util/Log/i	; i(Ljava/lang/String;Ljava/lang/String;)I
; v0 : Ljava/lang/String; , v1 : Ljava/lang/String;
.line 381
	iget-object	v0,v6,com/google/android/gm/provider/AttachmentManager.mContext Landroid/content/Context;
; v0 : Landroid/content/Context; , v6 : Lcom/google/android/gm/provider/AttachmentManager;
	invoke-static	{v0,v9,v10},com/google/android/gm/downloadprovider/Downloads$ById/deleteDownload	; deleteDownload(Landroid/content/Context;J)V
; v0 : Landroid/content/Context; , v9 : double-length
.line 382
	iget-object	v0,v6,com/google/android/gm/provider/AttachmentManager.mDb Landroid/database/sqlite/SQLiteDatabase;
; v0 : Landroid/database/sqlite/SQLiteDatabase; , v6 : Lcom/google/android/gm/provider/AttachmentManager;
	const-string	v1,"attachments"
; v1 : Ljava/lang/String;
	const-string	v2,"_id = ?"
; v2 : Ljava/lang/String;
	const/4	v3,1
; v3 : single-length
	new-array	v3,v3,[Ljava/lang/String;
; v3 : [Ljava/lang/String; , v3 : [Ljava/lang/String;
	const/4	v4,0
; v4 : single-length
	invoke-static	{v7,v8},java/lang/Long/toString	; toString(J)Ljava/lang/String;
; v7 : double-length
	move-result-object	v5
; v5 : Ljava/lang/String;
	aput-object	v5,v3,v4
; v5 : Ljava/lang/String; , v3 : [Ljava/lang/String; , v4 : single-length
	invoke-virtual	{v0,v1,v2,v3},android/database/sqlite/SQLiteDatabase/delete	; delete(Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;)I
; v0 : Landroid/database/sqlite/SQLiteDatabase; , v1 : Ljava/lang/String; , v2 : Ljava/lang/String; , v3 : [Ljava/lang/String;
.line 383
	return-void	
.end method

.method private deleteAttachmentAndDownloadRequests(Ljava/util/ArrayList;Ljava/util/ArrayList;)V
.annotation systemVisibility Ldalvik/annotation/Signature;
    value [Ljava/lang/String; = { "(" , "Ljava/util/ArrayList" , "<" , "Ljava/lang/Long;" , ">;" , "Ljava/util/ArrayList" , "<" , "Ljava/lang/Long;" , ">;)V" }
.end annotation
.limit registers 4
; this: v1 (Lcom/google/android/gm/provider/AttachmentManager;)
; parameter[0] : v2 (Ljava/util/ArrayList;)
; parameter[1] : v3 (Ljava/util/ArrayList;)
.line 387
	iget-object	v0,v1,com/google/android/gm/provider/AttachmentManager.mContext Landroid/content/Context;
; v0 : Landroid/content/Context; , v1 : Lcom/google/android/gm/provider/AttachmentManager;
	invoke-static	{v0,v3},com/google/android/gm/downloadprovider/Downloads$ById/deleteDownloads	; deleteDownloads(Landroid/content/Context;Ljava/util/ArrayList;)V
; v0 : Landroid/content/Context; , v3 : Ljava/util/ArrayList;
.line 388
	invoke-direct	{v1,v2},com/google/android/gm/provider/AttachmentManager/deleteAttachments	; deleteAttachments(Ljava/util/ArrayList;)V
; v1 : Lcom/google/android/gm/provider/AttachmentManager; , v2 : Ljava/util/ArrayList;
.line 389
	return-void	
.end method

.method private deleteAttachments(Ljava/util/ArrayList;)V
.annotation systemVisibility Ldalvik/annotation/Signature;
    value [Ljava/lang/String; = { "(" , "Ljava/util/ArrayList" , "<" , "Ljava/lang/Long;" , ">;)V" }
.end annotation
.limit registers 10
; this: v8 (Lcom/google/android/gm/provider/AttachmentManager;)
; parameter[0] : v9 (Ljava/util/ArrayList;)
.var 0 is attachmentId Ljava/lang/Long; from l5cc88 to l5ccce
	const-string	v6,"'"
; v6 : Ljava/lang/String;
.line 392
	new-instance	v3,java/lang/StringBuilder
; v3 : Ljava/lang/StringBuilder;
	invoke-direct	{v3},java/lang/StringBuilder/<init>	; <init>()V
; v3 : Ljava/lang/StringBuilder;
.line 394
	const-string	v4,"_id IN ("
; v4 : Ljava/lang/String;
	invoke-virtual	{v3,v4},java/lang/StringBuilder/append	; append(Ljava/lang/String;)Ljava/lang/StringBuilder;
; v3 : Ljava/lang/StringBuilder; , v4 : Ljava/lang/String;
.line 395
	invoke-virtual	{v9},java/util/ArrayList/size	; size()I
; v9 : Ljava/util/ArrayList;
	move-result	v2
; v2 : single-length
.line 396
	const/4	v1,0
; v1 : single-length
l5cc6a:
	if-ge	v1,v2,l5ccce
; v1 : single-length , v2 : single-length
.line 397
	if-lez	v1,l5cc7c
; v1 : single-length
.line 398
	const-string	v4,", "
; v4 : Ljava/lang/String;
	invoke-virtual	{v3,v4},java/lang/StringBuilder/append	; append(Ljava/lang/String;)Ljava/lang/StringBuilder;
; v3 : Ljava/lang/StringBuilder; , v4 : Ljava/lang/String;
l5cc7c:
.line 403
	invoke-virtual	{v9,v1},java/util/ArrayList/get	; get(I)Ljava/lang/Object;
; v9 : Ljava/util/ArrayList; , v1 : single-length
	move-result-object	v0
; v0 : Ljava/lang/Object;
	check-cast	v0,java/lang/Long
; v0 : Ljava/lang/Long;
.line 404
	new-instance	v4,java/lang/StringBuilder
; v4 : Ljava/lang/StringBuilder;
	invoke-direct	{v4},java/lang/StringBuilder/<init>	; <init>()V
; v4 : Ljava/lang/StringBuilder;
	const-string	v5,"'"
; v5 : Ljava/lang/String;
	invoke-virtual	{v4,v6},java/lang/StringBuilder/append	; append(Ljava/lang/String;)Ljava/lang/StringBuilder;
; v4 : Ljava/lang/StringBuilder; , v6 : Ljava/lang/String;
	move-result-object	v4
; v4 : Ljava/lang/StringBuilder;
	invoke-virtual	{v0},java/lang/Long/toString	; toString()Ljava/lang/String;
; v0 : Ljava/lang/Long;
	move-result-object	v5
; v5 : Ljava/lang/String;
	invoke-virtual	{v4,v5},java/lang/StringBuilder/append	; append(Ljava/lang/String;)Ljava/lang/StringBuilder;
; v4 : Ljava/lang/StringBuilder; , v5 : Ljava/lang/String;
	move-result-object	v4
; v4 : Ljava/lang/StringBuilder;
	const-string	v5,"'"
; v5 : Ljava/lang/String;
	invoke-virtual	{v4,v6},java/lang/StringBuilder/append	; append(Ljava/lang/String;)Ljava/lang/StringBuilder;
; v4 : Ljava/lang/StringBuilder; , v6 : Ljava/lang/String;
	move-result-object	v4
; v4 : Ljava/lang/StringBuilder;
	invoke-virtual	{v4},java/lang/StringBuilder/toString	; toString()Ljava/lang/String;
; v4 : Ljava/lang/StringBuilder;
	move-result-object	v4
; v4 : Ljava/lang/String;
	invoke-virtual	{v3,v4},java/lang/StringBuilder/append	; append(Ljava/lang/String;)Ljava/lang/StringBuilder;
; v3 : Ljava/lang/StringBuilder; , v4 : Ljava/lang/String;
.line 396
	add-int/lit8	v1,v1,1
; v1 : single-length , v1 : single-length
	goto	l5cc6a
l5ccce:
.line 406
	const/16	v4,41
; v4 : single-length
	invoke-virtual	{v3,v4},java/lang/StringBuilder/append	; append(C)Ljava/lang/StringBuilder;
; v3 : Ljava/lang/StringBuilder; , v4 : single-length
.line 408
	iget-object	v4,v8,com/google/android/gm/provider/AttachmentManager.mDb Landroid/database/sqlite/SQLiteDatabase;
; v4 : Landroid/database/sqlite/SQLiteDatabase; , v8 : Lcom/google/android/gm/provider/AttachmentManager;
	const-string	v5,"attachments"
; v5 : Ljava/lang/String;
	invoke-virtual	{v3},java/lang/StringBuilder/toString	; toString()Ljava/lang/String;
; v3 : Ljava/lang/StringBuilder;
	move-result-object	v6
; v6 : Ljava/lang/String;
	const/4	v7,0
; v7 : single-length
	invoke-virtual	{v4,v5,v6,v7},android/database/sqlite/SQLiteDatabase/delete	; delete(Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;)I
; v4 : Landroid/database/sqlite/SQLiteDatabase; , v5 : Ljava/lang/String; , v6 : Ljava/lang/String; , v7 : single-length
.line 409
	return-void	
.end method

.method static getAttachmentDownloadCookiesHeaderValue(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;
.limit registers 5
; parameter[0] : v3 (Ljava/lang/String;)
; parameter[1] : v4 (Ljava/lang/String;)
.line 241
	invoke-static	{v3,v4},com/google/android/gm/provider/Urls/getCookie	; getCookie(Ljava/lang/String;Ljava/lang/String;)Lorg/apache/http/cookie/Cookie;
; v3 : Ljava/lang/String; , v4 : Ljava/lang/String;
	move-result-object	v0
; v0 : Lorg/apache/http/cookie/Cookie;
.line 242
	new-instance	v1,java/lang/StringBuilder
; v1 : Ljava/lang/StringBuilder;
	invoke-direct	{v1},java/lang/StringBuilder/<init>	; <init>()V
; v1 : Ljava/lang/StringBuilder;
	invoke-interface	{v0},org/apache/http/cookie/Cookie/getName	; getName()Ljava/lang/String;
; v0 : Lorg/apache/http/cookie/Cookie;
	move-result-object	v2
; v2 : Ljava/lang/String;
	invoke-virtual	{v1,v2},java/lang/StringBuilder/append	; append(Ljava/lang/String;)Ljava/lang/StringBuilder;
; v1 : Ljava/lang/StringBuilder; , v2 : Ljava/lang/String;
	move-result-object	v1
; v1 : Ljava/lang/StringBuilder;
	const-string	v2,"="
; v2 : Ljava/lang/String;
	invoke-virtual	{v1,v2},java/lang/StringBuilder/append	; append(Ljava/lang/String;)Ljava/lang/StringBuilder;
; v1 : Ljava/lang/StringBuilder; , v2 : Ljava/lang/String;
	move-result-object	v1
; v1 : Ljava/lang/StringBuilder;
	invoke-interface	{v0},org/apache/http/cookie/Cookie/getValue	; getValue()Ljava/lang/String;
; v0 : Lorg/apache/http/cookie/Cookie;
	move-result-object	v2
; v2 : Ljava/lang/String;
	invoke-virtual	{v1,v2},java/lang/StringBuilder/append	; append(Ljava/lang/String;)Ljava/lang/StringBuilder;
; v1 : Ljava/lang/StringBuilder; , v2 : Ljava/lang/String;
	move-result-object	v1
; v1 : Ljava/lang/StringBuilder;
	invoke-virtual	{v1},java/lang/StringBuilder/toString	; toString()Ljava/lang/String;
; v1 : Ljava/lang/StringBuilder;
	move-result-object	v1
; v1 : Ljava/lang/String;
	return-object	v1
; v1 : Ljava/lang/String;
.end method

.method private getMaxDisplayWidthAndHeight()I
.limit registers 7
; this: v6 (Lcom/google/android/gm/provider/AttachmentManager;)
.catch java/lang/NullPointerException from l5cd5c to l5cd8e using l5cd94
.var 0 is display Landroid/view/Display; from l5cd78 to l5cd92
.var 2 is maxWidthAndHeight I from l5cd90 to l5cd92
.var 3 is windowManager Landroid/view/WindowManager; from l5cd70 to l5cd92
l5cd5c:
.line 697
	iget-object	v4,v6,com/google/android/gm/provider/AttachmentManager.mContext Landroid/content/Context;
; v4 : Landroid/content/Context; , v6 : Lcom/google/android/gm/provider/AttachmentManager;
	const-string	v5,"window"
; v5 : Ljava/lang/String;
	invoke-virtual	{v4,v5},android/content/Context/getSystemService	; getSystemService(Ljava/lang/String;)Ljava/lang/Object;
; v4 : Landroid/content/Context; , v5 : Ljava/lang/String;
	move-result-object	v3
; v3 : Ljava/lang/Object;
	check-cast	v3,android/view/WindowManager
; v3 : Landroid/view/WindowManager;
.line 699
	invoke-interface	{v3},android/view/WindowManager/getDefaultDisplay	; getDefaultDisplay()Landroid/view/Display;
; v3 : Landroid/view/WindowManager;
	move-result-object	v0
; v0 : Landroid/view/Display;
.line 700
	invoke-virtual	{v0},android/view/Display/getWidth	; getWidth()I
; v0 : Landroid/view/Display;
	move-result	v4
; v4 : single-length
	invoke-virtual	{v0},android/view/Display/getHeight	; getHeight()I
; v0 : Landroid/view/Display;
	move-result	v5
; v5 : single-length
	invoke-static	{v4,v5},java/lang/Math/max	; max(II)I
; v4 : single-length , v5 : single-length
l5cd8e:
	move-result	v2
; v2 : single-length
l5cd90:
	move	v4,v2
; v4 : single-length , v2 : single-length
l5cd92:
.line 707
	return	v4
; v4 : single-length
l5cd94:
.line 702
	move-exception	v4
; v4 : java/lang/NullPointerException
	move-object	v1,v4
; v1 : java/lang/NullPointerException , v4 : java/lang/NullPointerException
.line 707
	const/16	v4,800
; v4 : single-length
	goto	l5cd92
.end method

.method private isDownloadStillPresent(J)Z
.limit registers 7
; this: v4 (Lcom/google/android/gm/provider/AttachmentManager;)
; parameter[0] : v5 (J)
.catch java/io/FileNotFoundException from l5cdd4 to l5cdda using l5ce02
.catch java/io/IOException from l5cdd4 to l5cdda using l5cdfe
.catch java/lang/Exception from l5cdd4 to l5cdda using l5cde4
.catch java/io/FileNotFoundException from l5cdcc to l5cdd2 using l5ce02
.catch java/io/IOException from l5cdcc to l5cdd2 using l5cdfa
.catch java/lang/Exception from l5cdcc to l5cdd2 using l5cde4
.catch java/io/FileNotFoundException from l5cdc8 to l5cdcc using l5ce02
.catch java/io/IOException from l5cdc8 to l5cdcc using l5cdee
.catch java/lang/Exception from l5cdc8 to l5cdcc using l5cde4
.var 2 is stream Ljava/io/InputStream; from l5cdd4 to l5cde2
.var 2 is stream Ljava/io/InputStream; from l5cdfe to l5ce02
.line 366
	invoke-static	{},android/os/Binder/clearCallingIdentity	; clearCallingIdentity()J
; 
	nop	
	move-result-wide	v0
; v0 : double-length
l5cdc8:
.line 368
	iget-object	v3,v4,com/google/android/gm/provider/AttachmentManager.mContext Landroid/content/Context;
; v3 : Landroid/content/Context; , v4 : Lcom/google/android/gm/provider/AttachmentManager;
l5cdcc:
	invoke-static	{v3,v5,v6},com/google/android/gm/downloadprovider/Downloads$ById/openDownloadStream	; openDownloadStream(Landroid/content/Context;J)Ljava/io/InputStream;
; v3 : Landroid/content/Context; , v5 : double-length
l5cdd2:
	move-result-object	v2
; v2 : Ljava/io/InputStream;
l5cdd4:
.line 369
	invoke-virtual	{v2},java/io/InputStream/close	; close()V
; v2 : Ljava/io/InputStream;
l5cdda:
.line 370
	const/4	v3,1
; v3 : single-length
.line 374
	invoke-static	{v0,v1},android/os/Binder/restoreCallingIdentity	; restoreCallingIdentity(J)V
; v0 : double-length
l5cde2:
.line 376
	return	v3
; v3 : single-length
l5cde4:
.line 374
	move-exception	v3
; v3 : java/lang/Exception
	invoke-static	{v0,v1},android/os/Binder/restoreCallingIdentity	; restoreCallingIdentity(J)V
; v0 : double-length
	throw	v3
; v3 : java/lang/Exception
l5cdee:
.line 372
	move-exception	v3
; v3 : java/io/IOException
l5cdf0:
.line 374
	invoke-static	{v0,v1},android/os/Binder/restoreCallingIdentity	; restoreCallingIdentity(J)V
; v0 : double-length
.line 376
	const/4	v3,0
; v3 : single-length
	goto	l5cde2
l5cdfa:
.line 372
	move-exception	v3
; v3 : java/io/IOException
	goto	l5cdf0
l5cdfe:
	move-exception	v3
; v3 : java/io/IOException
	goto	l5cdf0
l5ce02:
.line 371
	move-exception	v3
; v3 : java/io/FileNotFoundException
	goto	l5cdf0
.end method

.method private maybeStartNextAttachmentDownload()V
.limit registers 14
; this: v13 (Lcom/google/android/gm/provider/AttachmentManager;)
.catch java/lang/Exception from l5cef8 to l5cf00 using l5cf00
.catch java/lang/Exception from l5cee0 to l5cef0 using l5cf00
.catch java/lang/Exception from l5cec4 to l5cee0 using l5cef6
.catch java/lang/Exception from l5ce98 to l5cec2 using l5cf00
.catch java/lang/Exception from l5ce56 to l5ce8c using l5cf00
.var 8 is attachmentId J from l5ceda to l5cee0
.var 10 is downloadablesCursor Landroid/database/Cursor; from l5cec4 to l5cf00
.var 11 is numDownloading J from l5ce76 to l5cf00
.line 568
	iget-object	v0,v13,com/google/android/gm/provider/AttachmentManager.mDb Landroid/database/sqlite/SQLiteDatabase;
; v0 : Landroid/database/sqlite/SQLiteDatabase; , v13 : Lcom/google/android/gm/provider/AttachmentManager;
	invoke-virtual	{v0},android/database/sqlite/SQLiteDatabase/beginTransaction	; beginTransaction()V
; v0 : Landroid/database/sqlite/SQLiteDatabase;
l5ce56:
.line 570
	iget-object	v0,v13,com/google/android/gm/provider/AttachmentManager.mDb Landroid/database/sqlite/SQLiteDatabase;
; v0 : Landroid/database/sqlite/SQLiteDatabase; , v13 : Lcom/google/android/gm/provider/AttachmentManager;
	const-string	v1,"SELECT COUNT(*) FROM attachments WHERE status == ?"
; v1 : Ljava/lang/String;
	const/4	v2,1
; v2 : single-length
	new-array	v2,v2,[Ljava/lang/String;
; v2 : [Ljava/lang/String; , v2 : [Ljava/lang/String;
	const/4	v3,0
; v3 : single-length
	const-string	v4,"192"
; v4 : Ljava/lang/String;
	aput-object	v4,v2,v3
; v4 : Ljava/lang/String; , v2 : [Ljava/lang/String; , v3 : single-length
	invoke-static	{v0,v1,v2},android/database/DatabaseUtils/longForQuery	; longForQuery(Landroid/database/sqlite/SQLiteDatabase;Ljava/lang/String;[Ljava/lang/String;)J
; v0 : Landroid/database/sqlite/SQLiteDatabase; , v1 : Ljava/lang/String; , v2 : [Ljava/lang/String;
	move-result-wide	v11
; v11 : double-length
.line 573
	const-wide/16	v0,0
; v0 : double-length
	cmp-long	v0,v11,v0
; v0 : single-length , v11 : double-length , v0 : single-length
	if-eqz	v0,l5ce98
; v0 : single-length
.line 574
	iget-object	v0,v13,com/google/android/gm/provider/AttachmentManager.mDb Landroid/database/sqlite/SQLiteDatabase;
; v0 : Landroid/database/sqlite/SQLiteDatabase; , v13 : Lcom/google/android/gm/provider/AttachmentManager;
	invoke-virtual	{v0},android/database/sqlite/SQLiteDatabase/setTransactionSuccessful	; setTransactionSuccessful()V
; v0 : Landroid/database/sqlite/SQLiteDatabase;
l5ce8c:
.line 591
	iget-object	v0,v13,com/google/android/gm/provider/AttachmentManager.mDb Landroid/database/sqlite/SQLiteDatabase;
; v0 : Landroid/database/sqlite/SQLiteDatabase; , v13 : Lcom/google/android/gm/provider/AttachmentManager;
l5ce90:
	invoke-virtual	{v0},android/database/sqlite/SQLiteDatabase/endTransaction	; endTransaction()V
; v0 : Landroid/database/sqlite/SQLiteDatabase;
.line 593
	return-void	
l5ce98:
.line 578
	iget-object	v0,v13,com/google/android/gm/provider/AttachmentManager.mDb Landroid/database/sqlite/SQLiteDatabase;
; v0 : Landroid/database/sqlite/SQLiteDatabase; , v13 : Lcom/google/android/gm/provider/AttachmentManager;
	const-string	v1,"attachments"
; v1 : Ljava/lang/String;
	const/4	v2,1
; v2 : single-length
	new-array	v2,v2,[Ljava/lang/String;
; v2 : [Ljava/lang/String; , v2 : [Ljava/lang/String;
	const/4	v3,0
; v3 : single-length
	const-string	v4,"_id"
; v4 : Ljava/lang/String;
	aput-object	v4,v2,v3
; v4 : Ljava/lang/String; , v2 : [Ljava/lang/String; , v3 : single-length
	const-string	v3,"downloadId == 0"
; v3 : Ljava/lang/String;
	const/4	v4,0
; v4 : single-length
	const/4	v5,0
; v5 : single-length
	const/4	v6,0
; v6 : single-length
	const/4	v7,0
; v7 : single-length
	invoke-virtual/range	{v0..v7},android/database/sqlite/SQLiteDatabase/query;	query(Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)Landroid/database/Cursor;
; v0 : Landroid/database/sqlite/SQLiteDatabase; , v1 : Ljava/lang/String; , v2 : [Ljava/lang/String; , v3 : Ljava/lang/String; , v4 : single-length , v5 : single-length , v6 : single-length , v7 : single-length
l5cec2:
	move-result-object	v10
; v10 : Landroid/database/Cursor;
l5cec4:
.line 581
	invoke-interface	{v10},android/database/Cursor/moveToNext	; moveToNext()Z
; v10 : Landroid/database/Cursor;
	move-result	v0
; v0 : single-length
	if-eqz	v0,l5cee0
; v0 : single-length
.line 582
	const/4	v0,0
; v0 : single-length
	invoke-interface	{v10,v0},android/database/Cursor/getLong	; getLong(I)J
; v10 : Landroid/database/Cursor; , v0 : single-length
	move-result-wide	v8
; v8 : double-length
.line 583
	invoke-direct	{v13,v8,v9},com/google/android/gm/provider/AttachmentManager/startAttachmentDownloadInDownloadManager	; startAttachmentDownloadInDownloadManager(J)V
; v13 : Lcom/google/android/gm/provider/AttachmentManager; , v8 : double-length
l5cee0:
.line 586
	invoke-interface	{v10},android/database/Cursor/close	; close()V
; v10 : Landroid/database/Cursor;
.line 589
	iget-object	v0,v13,com/google/android/gm/provider/AttachmentManager.mDb Landroid/database/sqlite/SQLiteDatabase;
; v0 : Landroid/database/sqlite/SQLiteDatabase; , v13 : Lcom/google/android/gm/provider/AttachmentManager;
	invoke-virtual	{v0},android/database/sqlite/SQLiteDatabase/setTransactionSuccessful	; setTransactionSuccessful()V
; v0 : Landroid/database/sqlite/SQLiteDatabase;
l5cef0:
.line 591
	iget-object	v0,v13,com/google/android/gm/provider/AttachmentManager.mDb Landroid/database/sqlite/SQLiteDatabase;
; v0 : Landroid/database/sqlite/SQLiteDatabase; , v13 : Lcom/google/android/gm/provider/AttachmentManager;
	goto	l5ce90
l5cef6:
.line 586
	move-exception	v0
; v0 : java/lang/Exception
l5cef8:
	invoke-interface	{v10},android/database/Cursor/close	; close()V
; v10 : Landroid/database/Cursor;
	throw	v0
; v0 : java/lang/Exception
l5cf00:
.line 591
	move-exception	v0
; v0 : java/lang/Exception
	iget-object	v1,v13,com/google/android/gm/provider/AttachmentManager.mDb Landroid/database/sqlite/SQLiteDatabase;
; v1 : Landroid/database/sqlite/SQLiteDatabase; , v13 : Lcom/google/android/gm/provider/AttachmentManager;
	invoke-virtual	{v1},android/database/sqlite/SQLiteDatabase/endTransaction	; endTransaction()V
; v1 : Landroid/database/sqlite/SQLiteDatabase;
	throw	v0
; v0 : java/lang/Exception
.end method

.method private newAttachmentCursor(JLjava/lang/String;Lcom/google/android/gm/provider/Gmail$AttachmentRendition;Z[Ljava/lang/String;)Landroid/database/Cursor;
.limit registers 16
; this: v9 (Lcom/google/android/gm/provider/AttachmentManager;)
; parameter[0] : v10 (J)
; parameter[1] : v12 (Ljava/lang/String;)
; parameter[2] : v13 (Lcom/google/android/gm/provider/Gmail$AttachmentRendition;)
; parameter[3] : v14 (Z)
; parameter[4] : v15 ([Ljava/lang/String;)
.var 8 is cursor Landroid/database/Cursor; from l5cfaa to l5cfac
	const/4	v5,0
; v5 : single-length
.line 490
	iget-object	v0,v9,com/google/android/gm/provider/AttachmentManager.mDb Landroid/database/sqlite/SQLiteDatabase;
; v0 : Landroid/database/sqlite/SQLiteDatabase; , v9 : Lcom/google/android/gm/provider/AttachmentManager;
	const-string	v1,"attachments"
; v1 : Ljava/lang/String;
	const-string	v3,"messages_messageId = ? AND messages_partId = ? AND desiredRendition = ? AND saveToSd = ?"
; v3 : Ljava/lang/String;
	const/4	v2,4
; v2 : single-length
	new-array	v4,v2,[Ljava/lang/String;
; v4 : [Ljava/lang/String; , v2 : single-length
	const/4	v2,0
; v2 : single-length
	invoke-static	{v10,v11},java/lang/Long/toString	; toString(J)Ljava/lang/String;
; v10 : double-length
	move-result-object	v6
; v6 : Ljava/lang/String;
	aput-object	v6,v4,v2
; v6 : Ljava/lang/String; , v4 : [Ljava/lang/String; , v2 : single-length
	const/4	v2,1
; v2 : single-length
	aput-object	v12,v4,v2
; v12 : Ljava/lang/String; , v4 : [Ljava/lang/String; , v2 : single-length
	const/4	v2,2
; v2 : single-length
	invoke-virtual	{v13},com/google/android/gm/provider/Gmail$AttachmentRendition/toString	; toString()Ljava/lang/String;
; v13 : Lcom/google/android/gm/provider/Gmail$AttachmentRendition;
	move-result-object	v6
; v6 : Ljava/lang/String;
	aput-object	v6,v4,v2
; v6 : Ljava/lang/String; , v4 : [Ljava/lang/String; , v2 : single-length
	const/4	v2,3
; v2 : single-length
	if-eqz	v14,l5cfac
; v14 : single-length
	const-wide/16	v6,1
; v6 : double-length
l5cf90:
	invoke-static	{v6,v7},java/lang/Long/toString	; toString(J)Ljava/lang/String;
; v6 : double-length
	move-result-object	v6
; v6 : Ljava/lang/String;
	aput-object	v6,v4,v2
; v6 : Ljava/lang/String; , v4 : [Ljava/lang/String; , v2 : single-length
	move-object	v2,v15
; v2 : [Ljava/lang/String; , v15 : [Ljava/lang/String;
	move-object	v6,v5
; v6 : single-length , v5 : single-length
	move-object	v7,v5
; v7 : single-length , v5 : single-length
	invoke-virtual/range	{v0..v7},android/database/sqlite/SQLiteDatabase/query;	query(Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)Landroid/database/Cursor;
; v0 : Landroid/database/sqlite/SQLiteDatabase; , v1 : Ljava/lang/String; , v2 : [Ljava/lang/String; , v3 : Ljava/lang/String; , v4 : [Ljava/lang/String; , v5 : single-length , v6 : single-length , v7 : single-length
	move-result-object	v8
; v8 : Landroid/database/Cursor;
.line 498
	return-object	v8
; v8 : Landroid/database/Cursor;
l5cfac:
.line 490
	const-wide/16	v6,0
; v6 : double-length
	goto	l5cf90
.end method

.method private onAttachmentDownloadFinished(JJLjava/lang/String;Lcom/google/android/gm/provider/Gmail$AttachmentRendition;ZLcom/google/android/gm/downloadprovider/Downloads$StatusInfo;)V
.limit registers 19
; this: v10 (Lcom/google/android/gm/provider/AttachmentManager;)
; parameter[0] : v11 (J)
; parameter[1] : v13 (J)
; parameter[2] : v15 (Ljava/lang/String;)
; parameter[3] : v16 (Lcom/google/android/gm/provider/Gmail$AttachmentRendition;)
; parameter[4] : v17 (Z)
; parameter[5] : v18 (Lcom/google/android/gm/downloadprovider/Downloads$StatusInfo;)
.line 677
	invoke-virtual/range	{v18},com/google/android/gm/downloadprovider/Downloads$StatusInfo/isSuccessful;	isSuccessful()Z
; v18 : Lcom/google/android/gm/downloadprovider/Downloads$StatusInfo;
	move-result	v8
; v8 : single-length
.line 678
	new-instance	v9,android/content/ContentValues
; v9 : Landroid/content/ContentValues;
	invoke-direct	{v9},android/content/ContentValues/<init>	; <init>()V
; v9 : Landroid/content/ContentValues;
.line 679
	const-string	v1,"status"
; v1 : Ljava/lang/String;
	move-object/from16	v0,v18
; v0 : Lcom/google/android/gm/downloadprovider/Downloads$StatusInfo; , v18 : Lcom/google/android/gm/downloadprovider/Downloads$StatusInfo;
	iget	v0,v0,com/google/android/gm/downloadprovider/Downloads$StatusInfo.statusCode I
; v0 : single-length , v0 : single-length
	move	v2,v0
; v2 : single-length , v0 : single-length
	invoke-static	{v2},java/lang/Integer/valueOf	; valueOf(I)Ljava/lang/Integer;
; v2 : single-length
	move-result-object	v2
; v2 : Ljava/lang/Integer;
	invoke-virtual	{v9,v1,v2},android/content/ContentValues/put	; put(Ljava/lang/String;Ljava/lang/Integer;)V
; v9 : Landroid/content/ContentValues; , v1 : Ljava/lang/String; , v2 : Ljava/lang/Integer;
.line 680
	if-eqz	v8,l5d034
; v8 : single-length
	if-eqz	v17,l5d034
; v17 : single-length
.line 681
	const-string	v1,"filename"
; v1 : Ljava/lang/String;
	new-instance	v2,java/lang/StringBuilder
; v2 : Ljava/lang/StringBuilder;
	invoke-direct	{v2},java/lang/StringBuilder/<init>	; <init>()V
; v2 : Ljava/lang/StringBuilder;
	const-string	v3,"file://"
; v3 : Ljava/lang/String;
	invoke-virtual	{v2,v3},java/lang/StringBuilder/append	; append(Ljava/lang/String;)Ljava/lang/StringBuilder;
; v2 : Ljava/lang/StringBuilder; , v3 : Ljava/lang/String;
	move-result-object	v2
; v2 : Ljava/lang/StringBuilder;
	move-object/from16	v0,v18
; v0 : Lcom/google/android/gm/downloadprovider/Downloads$StatusInfo; , v18 : Lcom/google/android/gm/downloadprovider/Downloads$StatusInfo;
	iget-object	v0,v0,com/google/android/gm/downloadprovider/Downloads$StatusInfo.filename Ljava/lang/String;
; v0 : Ljava/lang/String; , v0 : Ljava/lang/String;
	move-object	v3,v0
; v3 : Ljava/lang/String; , v0 : Ljava/lang/String;
	invoke-virtual	{v2,v3},java/lang/StringBuilder/append	; append(Ljava/lang/String;)Ljava/lang/StringBuilder;
; v2 : Ljava/lang/StringBuilder; , v3 : Ljava/lang/String;
	move-result-object	v2
; v2 : Ljava/lang/StringBuilder;
	invoke-virtual	{v2},java/lang/StringBuilder/toString	; toString()Ljava/lang/String;
; v2 : Ljava/lang/StringBuilder;
	move-result-object	v2
; v2 : Ljava/lang/String;
	invoke-virtual	{v9,v1,v2},android/content/ContentValues/put	; put(Ljava/lang/String;Ljava/lang/String;)V
; v9 : Landroid/content/ContentValues; , v1 : Ljava/lang/String; , v2 : Ljava/lang/String;
l5d034:
.line 684
	iget-object	v1,v10,com/google/android/gm/provider/AttachmentManager.mDb Landroid/database/sqlite/SQLiteDatabase;
; v1 : Landroid/database/sqlite/SQLiteDatabase; , v10 : Lcom/google/android/gm/provider/AttachmentManager;
	const-string	v2,"attachments"
; v2 : Ljava/lang/String;
	const-string	v3,"messages_messageId = ? AND messages_partId = ? and desiredRendition = ? AND saveToSd = ?"
; v3 : Ljava/lang/String;
	const/4	v4,4
; v4 : single-length
	new-array	v4,v4,[Ljava/lang/String;
; v4 : [Ljava/lang/String; , v4 : [Ljava/lang/String;
	const/4	v5,0
; v5 : single-length
	invoke-static	{v13,v14},java/lang/Long/toString	; toString(J)Ljava/lang/String;
; v13 : double-length
	move-result-object	v6
; v6 : Ljava/lang/String;
	aput-object	v6,v4,v5
; v6 : Ljava/lang/String; , v4 : [Ljava/lang/String; , v5 : single-length
	const/4	v5,1
; v5 : single-length
	aput-object	v15,v4,v5
; v15 : Ljava/lang/String; , v4 : [Ljava/lang/String; , v5 : single-length
	const/4	v5,2
; v5 : single-length
	invoke-virtual/range	{v16},com/google/android/gm/provider/Gmail$AttachmentRendition/toString;	toString()Ljava/lang/String;
; v16 : Lcom/google/android/gm/provider/Gmail$AttachmentRendition;
	move-result-object	v6
; v6 : Ljava/lang/String;
	aput-object	v6,v4,v5
; v6 : Ljava/lang/String; , v4 : [Ljava/lang/String; , v5 : single-length
	const/4	v5,3
; v5 : single-length
	if-eqz	v17,l5d09a
; v17 : single-length
	const-wide/16	v6,1
; v6 : double-length
l5d072:
	invoke-static	{v6,v7},java/lang/Long/toString	; toString(J)Ljava/lang/String;
; v6 : double-length
	move-result-object	v6
; v6 : Ljava/lang/String;
	aput-object	v6,v4,v5
; v6 : Ljava/lang/String; , v4 : [Ljava/lang/String; , v5 : single-length
	invoke-virtual	{v1,v2,v9,v3,v4},android/database/sqlite/SQLiteDatabase/update	; update(Ljava/lang/String;Landroid/content/ContentValues;Ljava/lang/String;[Ljava/lang/String;)I
; v1 : Landroid/database/sqlite/SQLiteDatabase; , v2 : Ljava/lang/String; , v9 : Landroid/content/ContentValues; , v3 : Ljava/lang/String; , v4 : [Ljava/lang/String;
.line 691
	iget-object	v1,v10,com/google/android/gm/provider/AttachmentManager.mRestrictedMailEngine Lcom/google/android/gm/provider/AttachmentManager$RestrictedMailEngine;
; v1 : Lcom/google/android/gm/provider/AttachmentManager$RestrictedMailEngine; , v10 : Lcom/google/android/gm/provider/AttachmentManager;
	move-wide	v2,v11
; v2 : double-length , v11 : double-length
	move-wide	v4,v13
; v4 : double-length , v13 : double-length
	move-object	v6,v15
; v6 : Ljava/lang/String; , v15 : Ljava/lang/String;
	move-object/from16	v7,v16
; v7 : Lcom/google/android/gm/provider/Gmail$AttachmentRendition; , v16 : Lcom/google/android/gm/provider/Gmail$AttachmentRendition;
	invoke-interface/range	{v1..v8},com/google/android/gm/provider/AttachmentManager$RestrictedMailEngine/onDownloadFinished;	onDownloadFinished(JJLjava/lang/String;Lcom/google/android/gm/provider/Gmail$AttachmentRendition;Z)V
; v1 : Lcom/google/android/gm/provider/AttachmentManager$RestrictedMailEngine; , v2 : double-length , v4 : double-length , v6 : Ljava/lang/String; , v7 : Lcom/google/android/gm/provider/Gmail$AttachmentRendition; , v8 : single-length
.line 693
	return-void	
l5d09a:
.line 684
	const-wide/16	v6,0
; v6 : double-length
	goto	l5d072
.end method

.method private requestDescription(JJLjava/lang/String;Lcom/google/android/gm/provider/Gmail$AttachmentRendition;Z)Ljava/lang/String;
.limit registers 11
; this: v3 (Lcom/google/android/gm/provider/AttachmentManager;)
; parameter[0] : v4 (J)
; parameter[1] : v6 (J)
; parameter[2] : v8 (Ljava/lang/String;)
; parameter[3] : v9 (Lcom/google/android/gm/provider/Gmail$AttachmentRendition;)
; parameter[4] : v10 (Z)
.line 117
	new-instance	v1,java/lang/StringBuilder
; v1 : Ljava/lang/StringBuilder;
	invoke-direct	{v1},java/lang/StringBuilder/<init>	; <init>()V
; v1 : Ljava/lang/StringBuilder;
	const-string	v2,"conversationId = "
; v2 : Ljava/lang/String;
	invoke-virtual	{v1,v2},java/lang/StringBuilder/append	; append(Ljava/lang/String;)Ljava/lang/StringBuilder;
; v1 : Ljava/lang/StringBuilder; , v2 : Ljava/lang/String;
	move-result-object	v1
; v1 : Ljava/lang/StringBuilder;
	invoke-virtual	{v1,v4,v5},java/lang/StringBuilder/append	; append(J)Ljava/lang/StringBuilder;
; v1 : Ljava/lang/StringBuilder; , v4 : double-length
	move-result-object	v1
; v1 : Ljava/lang/StringBuilder;
	const-string	v2,", messageId="
; v2 : Ljava/lang/String;
	invoke-virtual	{v1,v2},java/lang/StringBuilder/append	; append(Ljava/lang/String;)Ljava/lang/StringBuilder;
; v1 : Ljava/lang/StringBuilder; , v2 : Ljava/lang/String;
	move-result-object	v1
; v1 : Ljava/lang/StringBuilder;
	invoke-virtual	{v1,v6,v7},java/lang/StringBuilder/append	; append(J)Ljava/lang/StringBuilder;
; v1 : Ljava/lang/StringBuilder; , v6 : double-length
	move-result-object	v1
; v1 : Ljava/lang/StringBuilder;
	const-string	v2,", partId="
; v2 : Ljava/lang/String;
	invoke-virtual	{v1,v2},java/lang/StringBuilder/append	; append(Ljava/lang/String;)Ljava/lang/StringBuilder;
; v1 : Ljava/lang/StringBuilder; , v2 : Ljava/lang/String;
	move-result-object	v1
; v1 : Ljava/lang/StringBuilder;
	invoke-virtual	{v1,v8},java/lang/StringBuilder/append	; append(Ljava/lang/String;)Ljava/lang/StringBuilder;
; v1 : Ljava/lang/StringBuilder; , v8 : Ljava/lang/String;
	move-result-object	v1
; v1 : Ljava/lang/StringBuilder;
	const-string	v2,", rendition="
; v2 : Ljava/lang/String;
	invoke-virtual	{v1,v2},java/lang/StringBuilder/append	; append(Ljava/lang/String;)Ljava/lang/StringBuilder;
; v1 : Ljava/lang/StringBuilder; , v2 : Ljava/lang/String;
	move-result-object	v1
; v1 : Ljava/lang/StringBuilder;
	invoke-virtual	{v9},com/google/android/gm/provider/Gmail$AttachmentRendition/toString	; toString()Ljava/lang/String;
; v9 : Lcom/google/android/gm/provider/Gmail$AttachmentRendition;
	move-result-object	v2
; v2 : Ljava/lang/String;
	invoke-virtual	{v1,v2},java/lang/StringBuilder/append	; append(Ljava/lang/String;)Ljava/lang/StringBuilder;
; v1 : Ljava/lang/StringBuilder; , v2 : Ljava/lang/String;
	move-result-object	v1
; v1 : Ljava/lang/StringBuilder;
	const-string	v2,", saveToSd="
; v2 : Ljava/lang/String;
	invoke-virtual	{v1,v2},java/lang/StringBuilder/append	; append(Ljava/lang/String;)Ljava/lang/StringBuilder;
; v1 : Ljava/lang/StringBuilder; , v2 : Ljava/lang/String;
	move-result-object	v1
; v1 : Ljava/lang/StringBuilder;
	invoke-static	{v10},java/lang/Boolean/toString	; toString(Z)Ljava/lang/String;
; v10 : single-length
	move-result-object	v2
; v2 : Ljava/lang/String;
	invoke-virtual	{v1,v2},java/lang/StringBuilder/append	; append(Ljava/lang/String;)Ljava/lang/StringBuilder;
; v1 : Ljava/lang/StringBuilder; , v2 : Ljava/lang/String;
	move-result-object	v1
; v1 : Ljava/lang/StringBuilder;
	invoke-virtual	{v1},java/lang/StringBuilder/toString	; toString()Ljava/lang/String;
; v1 : Ljava/lang/StringBuilder;
	move-result-object	v0
; v0 : Ljava/lang/String;
.line 121
	return-object	v0
; v0 : Ljava/lang/String;
.end method

.method private startAttachmentDownloadInDownloadManager(J)V
.limit registers 16
; this: v13 (Lcom/google/android/gm/provider/AttachmentManager;)
; parameter[0] : v14 (J)
.catch java/lang/Exception from l5d33e to l5d47e using l5d32a
.catch java/lang/Exception from l5d318 to l5d326 using l5d32a
.catch java/io/IOException from l5d2e8 to l5d312 using l5d492
.catch android/accounts/AuthenticatorException from l5d2e8 to l5d312 using l5d48c
.catch android/accounts/OperationCanceledException from l5d2e8 to l5d312 using l5d486
.catch java/lang/Exception from l5d2e8 to l5d312 using l5d32a
.catch java/lang/Exception from l5d208 to l5d2e4 using l5d32a
.catch java/lang/Exception from l5d1c2 to l5d1fe using l5d32a
.line 131
	const/4	v0,7
; v0 : single-length
	new-array	v2,v0,[Ljava/lang/String;
; v2 : [Ljava/lang/String; , v0 : single-length
	const/4	v0,0
; v0 : single-length
	const-string	v1,"messages_conversation"
; v1 : Ljava/lang/String;
	aput-object	v1,v2,v0
; v1 : Ljava/lang/String; , v2 : [Ljava/lang/String; , v0 : single-length
	const/4	v0,1
; v0 : single-length
	const-string	v1,"messages_messageId"
; v1 : Ljava/lang/String;
	aput-object	v1,v2,v0
; v1 : Ljava/lang/String; , v2 : [Ljava/lang/String; , v0 : single-length
	const/4	v0,2
; v0 : single-length
	const-string	v1,"messages_partId"
; v1 : Ljava/lang/String;
	aput-object	v1,v2,v0
; v1 : Ljava/lang/String; , v2 : [Ljava/lang/String; , v0 : single-length
	const/4	v0,3
; v0 : single-length
	const-string	v1,"originExtras"
; v1 : Ljava/lang/String;
	aput-object	v1,v2,v0
; v1 : Ljava/lang/String; , v2 : [Ljava/lang/String; , v0 : single-length
	const/4	v0,4
; v0 : single-length
	const-string	v1,"downloadedRendition"
; v1 : Ljava/lang/String;
	aput-object	v1,v2,v0
; v1 : Ljava/lang/String; , v2 : [Ljava/lang/String; , v0 : single-length
	const/4	v0,5
; v0 : single-length
	const-string	v1,"saveToSd"
; v1 : Ljava/lang/String;
	aput-object	v1,v2,v0
; v1 : Ljava/lang/String; , v2 : [Ljava/lang/String; , v0 : single-length
	const/4	v0,6
; v0 : single-length
	const-string	v1,"filename"
; v1 : Ljava/lang/String;
	aput-object	v1,v2,v0
; v1 : Ljava/lang/String; , v2 : [Ljava/lang/String; , v0 : single-length
.line 137
	iget-object	v0,v13,com/google/android/gm/provider/AttachmentManager.mDb Landroid/database/sqlite/SQLiteDatabase;
; v0 : Landroid/database/sqlite/SQLiteDatabase; , v13 : Lcom/google/android/gm/provider/AttachmentManager;
	const-string	v1,"attachments"
; v1 : Ljava/lang/String;
	const-string	v3,"_id = ?"
; v3 : Ljava/lang/String;
	const/4	v4,1
; v4 : single-length
	new-array	v4,v4,[Ljava/lang/String;
; v4 : [Ljava/lang/String; , v4 : [Ljava/lang/String;
	const/4	v5,0
; v5 : single-length
	invoke-static	{v14,v15},java/lang/Long/toString	; toString(J)Ljava/lang/String;
; v14 : double-length
	move-result-object	v6
; v6 : Ljava/lang/String;
	aput-object	v6,v4,v5
; v6 : Ljava/lang/String; , v4 : [Ljava/lang/String; , v5 : single-length
	const/4	v5,0
; v5 : single-length
	const/4	v6,0
; v6 : single-length
	const/4	v7,0
; v7 : single-length
	invoke-virtual/range	{v0..v7},android/database/sqlite/SQLiteDatabase/query;	query(Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)Landroid/database/Cursor;
; v0 : Landroid/database/sqlite/SQLiteDatabase; , v1 : Ljava/lang/String; , v2 : [Ljava/lang/String; , v3 : Ljava/lang/String; , v4 : [Ljava/lang/String; , v5 : single-length , v6 : single-length , v7 : single-length
	move-result-object	v12
; v12 : Landroid/database/Cursor;
l5d1c2:
.line 142
	invoke-interface	{v12},android/database/Cursor/moveToNext	; moveToNext()Z
; v12 : Landroid/database/Cursor;
	move-result	v0
; v0 : single-length
	if-nez	v0,l5d206
; v0 : single-length
.line 143
	const-string	v0,"Gmail"
; v0 : Ljava/lang/String;
	new-instance	v1,java/lang/StringBuilder
; v1 : Ljava/lang/StringBuilder;
	invoke-direct	{v1},java/lang/StringBuilder/<init>	; <init>()V
; v1 : Ljava/lang/StringBuilder;
	const-string	v2,"Error finding attachment id: "
; v2 : Ljava/lang/String;
	invoke-virtual	{v1,v2},java/lang/StringBuilder/append	; append(Ljava/lang/String;)Ljava/lang/StringBuilder;
; v1 : Ljava/lang/StringBuilder; , v2 : Ljava/lang/String;
	move-result-object	v1
; v1 : Ljava/lang/StringBuilder;
	invoke-virtual	{v1,v14,v15},java/lang/StringBuilder/append	; append(J)Ljava/lang/StringBuilder;
; v1 : Ljava/lang/StringBuilder; , v14 : double-length
	move-result-object	v1
; v1 : Ljava/lang/StringBuilder;
	invoke-virtual	{v1},java/lang/StringBuilder/toString	; toString()Ljava/lang/String;
; v1 : Ljava/lang/StringBuilder;
	move-result-object	v1
; v1 : Ljava/lang/String;
	invoke-static	{v0,v1},android/util/Log/e	; e(Ljava/lang/String;Ljava/lang/String;)I
; v0 : Ljava/lang/String; , v1 : Ljava/lang/String;
l5d1fe:
.line 232
	invoke-interface	{v12},android/database/Cursor/close	; close()V
; v12 : Landroid/database/Cursor;
.line 234
	return-void	
l5d206:
.line 147
	const/4	v0,0
; v0 : single-length
l5d208:
	invoke-interface	{v12,v0},android/database/Cursor/getLong	; getLong(I)J
; v12 : Landroid/database/Cursor; , v0 : single-length
	move-result-wide	v1
; v1 : double-length
.line 148
	const/4	v0,1
; v0 : single-length
	invoke-interface	{v12,v0},android/database/Cursor/getLong	; getLong(I)J
; v12 : Landroid/database/Cursor; , v0 : single-length
	move-result-wide	v3
; v3 : double-length
.line 149
	const/4	v0,2
; v0 : single-length
	invoke-interface	{v12,v0},android/database/Cursor/getString	; getString(I)Ljava/lang/String;
; v12 : Landroid/database/Cursor; , v0 : single-length
	move-result-object	v5
; v5 : Ljava/lang/String;
.line 150
	const/4	v0,3
; v0 : single-length
	invoke-interface	{v12,v0},android/database/Cursor/getString	; getString(I)Ljava/lang/String;
; v12 : Landroid/database/Cursor; , v0 : single-length
	move-result-object	v9
; v9 : Ljava/lang/String;
.line 151
	const/4	v0,4
; v0 : single-length
	invoke-interface	{v12,v0},android/database/Cursor/getString	; getString(I)Ljava/lang/String;
; v12 : Landroid/database/Cursor; , v0 : single-length
	move-result-object	v0
; v0 : Ljava/lang/String;
	invoke-static	{v0},com/google/android/gm/provider/Gmail$AttachmentRendition/valueOf	; valueOf(Ljava/lang/String;)Lcom/google/android/gm/provider/Gmail$AttachmentRendition;
; v0 : Ljava/lang/String;
	move-result-object	v6
; v6 : Lcom/google/android/gm/provider/Gmail$AttachmentRendition;
.line 153
	const/4	v0,5
; v0 : single-length
	invoke-interface	{v12,v0},android/database/Cursor/getInt	; getInt(I)I
; v12 : Landroid/database/Cursor; , v0 : single-length
	move-result	v0
; v0 : single-length
	if-eqz	v0,l5d334
; v0 : single-length
	const/4	v0,1
; v0 : single-length
	move	v7,v0
; v7 : single-length , v0 : single-length
l5d252:
.line 154
	const/4	v0,6
; v0 : single-length
	invoke-interface	{v12,v0},android/database/Cursor/getString	; getString(I)Ljava/lang/String;
; v12 : Landroid/database/Cursor; , v0 : single-length
	move-result-object	v8
; v8 : Ljava/lang/String;
.line 156
	const-string	v0,"Gmail"
; v0 : Ljava/lang/String;
	const/4	v10,3
; v10 : single-length
	invoke-static	{v0,v10},android/util/Log/isLoggable	; isLoggable(Ljava/lang/String;I)Z
; v0 : Ljava/lang/String; , v10 : single-length
	move-result	v0
; v0 : single-length
	if-eqz	v0,l5d2bc
; v0 : single-length
	move-object	v0,v13
; v0 : Lcom/google/android/gm/provider/AttachmentManager; , v13 : Lcom/google/android/gm/provider/AttachmentManager;
.line 157
	invoke-direct/range	{v0..v7},com/google/android/gm/provider/AttachmentManager/requestDescription;	requestDescription(JJLjava/lang/String;Lcom/google/android/gm/provider/Gmail$AttachmentRendition;Z)Ljava/lang/String;
; v0 : Lcom/google/android/gm/provider/AttachmentManager; , v1 : double-length , v3 : double-length , v5 : Ljava/lang/String; , v6 : Lcom/google/android/gm/provider/Gmail$AttachmentRendition; , v7 : single-length
	move-result-object	v0
; v0 : Ljava/lang/String;
.line 160
	const-string	v1,"Gmail"
; v1 : Ljava/lang/String;
	new-instance	v2,java/lang/StringBuilder
; v2 : Ljava/lang/StringBuilder;
	invoke-direct	{v2},java/lang/StringBuilder/<init>	; <init>()V
; v2 : Ljava/lang/StringBuilder;
	const-string	v3,"Starting attachment download: "
; v3 : Ljava/lang/String;
	invoke-virtual	{v2,v3},java/lang/StringBuilder/append	; append(Ljava/lang/String;)Ljava/lang/StringBuilder;
; v2 : Ljava/lang/StringBuilder; , v3 : Ljava/lang/String;
	move-result-object	v2
; v2 : Ljava/lang/StringBuilder;
	invoke-virtual	{v2,v14,v15},java/lang/StringBuilder/append	; append(J)Ljava/lang/StringBuilder;
; v2 : Ljava/lang/StringBuilder; , v14 : double-length
	move-result-object	v2
; v2 : Ljava/lang/StringBuilder;
	const-string	v3,", "
; v3 : Ljava/lang/String;
	invoke-virtual	{v2,v3},java/lang/StringBuilder/append	; append(Ljava/lang/String;)Ljava/lang/StringBuilder;
; v2 : Ljava/lang/StringBuilder; , v3 : Ljava/lang/String;
	move-result-object	v2
; v2 : Ljava/lang/StringBuilder;
	invoke-virtual	{v2,v0},java/lang/StringBuilder/append	; append(Ljava/lang/String;)Ljava/lang/StringBuilder;
; v2 : Ljava/lang/StringBuilder; , v0 : Ljava/lang/String;
	move-result-object	v0
; v0 : Ljava/lang/StringBuilder;
	invoke-virtual	{v0},java/lang/StringBuilder/toString	; toString()Ljava/lang/String;
; v0 : Ljava/lang/StringBuilder;
	move-result-object	v0
; v0 : Ljava/lang/String;
	invoke-static	{v1,v0},android/util/Log/d	; d(Ljava/lang/String;Ljava/lang/String;)I
; v1 : Ljava/lang/String; , v0 : Ljava/lang/String;
l5d2bc:
.line 165
	invoke-direct	{v13},com/google/android/gm/provider/AttachmentManager/getMaxDisplayWidthAndHeight	; getMaxDisplayWidthAndHeight()I
; v13 : Lcom/google/android/gm/provider/AttachmentManager;
	move-result	v0
; v0 : single-length
.line 166
	sget-object	v1,com/google/android/gm/provider/Gmail$AttachmentRendition.SIMPLE Lcom/google/android/gm/provider/Gmail$AttachmentRendition;
; v1 : Lcom/google/android/gm/provider/Gmail$AttachmentRendition;
	if-eq	v6,v1,l5d33a
; v6 : Lcom/google/android/gm/provider/Gmail$AttachmentRendition; , v1 : Lcom/google/android/gm/provider/Gmail$AttachmentRendition;
	const/4	v1,1
; v1 : single-length
l5d2ce:
.line 167
	iget-object	v2,v13,com/google/android/gm/provider/AttachmentManager.mUrls Lcom/google/android/gm/provider/Urls;
; v2 : Lcom/google/android/gm/provider/Urls; , v13 : Lcom/google/android/gm/provider/AttachmentManager;
	iget-object	v3,v13,com/google/android/gm/provider/AttachmentManager.mRestrictedMailEngine Lcom/google/android/gm/provider/AttachmentManager$RestrictedMailEngine;
; v3 : Lcom/google/android/gm/provider/AttachmentManager$RestrictedMailEngine; , v13 : Lcom/google/android/gm/provider/AttachmentManager;
	invoke-interface	{v3},com/google/android/gm/provider/AttachmentManager$RestrictedMailEngine/getRequestVersion	; getRequestVersion()I
; v3 : Lcom/google/android/gm/provider/AttachmentManager$RestrictedMailEngine;
	move-result	v3
; v3 : single-length
	invoke-virtual	{v2,v3,v9,v0,v1},com/google/android/gm/provider/Urls/getFetchAttachmentUri	; getFetchAttachmentUri(ILjava/lang/String;IZ)Ljava/net/URI;
; v2 : Lcom/google/android/gm/provider/Urls; , v3 : single-length , v9 : Ljava/lang/String; , v0 : single-length , v1 : single-length
l5d2e4:
	move-result-object	v0
; v0 : Ljava/net/URI;
.line 171
	const/4	v1,0
; v1 : single-length
l5d2e8:
.line 173
	iget-object	v2,v13,com/google/android/gm/provider/AttachmentManager.mContext Landroid/content/Context;
; v2 : Landroid/content/Context; , v13 : Lcom/google/android/gm/provider/AttachmentManager;
	invoke-static	{v2},android/accounts/AccountManager/get	; get(Landroid/content/Context;)Landroid/accounts/AccountManager;
; v2 : Landroid/content/Context;
	move-result-object	v2
; v2 : Landroid/accounts/AccountManager;
	new-instance	v3,android/accounts/Account
; v3 : Landroid/accounts/Account;
	iget-object	v4,v13,com/google/android/gm/provider/AttachmentManager.mAccount Ljava/lang/String;
; v4 : Ljava/lang/String; , v13 : Lcom/google/android/gm/provider/AttachmentManager;
	const-string	v5,"com.google"
; v5 : Ljava/lang/String;
	invoke-direct	{v3,v4,v5},android/accounts/Account/<init>	; <init>(Ljava/lang/String;Ljava/lang/String;)V
; v3 : Landroid/accounts/Account; , v4 : Ljava/lang/String; , v5 : Ljava/lang/String;
	const-string	v4,"mail"
; v4 : Ljava/lang/String;
	const/4	v5,1
; v5 : single-length
	invoke-virtual	{v2,v3,v4,v5},android/accounts/AccountManager/blockingGetAuthToken	; blockingGetAuthToken(Landroid/accounts/Account;Ljava/lang/String;Z)Ljava/lang/String;
; v2 : Landroid/accounts/AccountManager; , v3 : Landroid/accounts/Account; , v4 : Ljava/lang/String; , v5 : single-length
l5d312:
	move-result-object	v1
; v1 : Ljava/lang/String;
l5d314:
.line 184
	if-nez	v1,l5d33e
; v1 : single-length
l5d318:
.line 189
	const-string	v0,"Gmail"
; v0 : Ljava/lang/String;
	const-string	v1,"Error getting authToken for attachment download"
; v1 : Ljava/lang/String;
	invoke-static	{v0,v1},android/util/Log/e	; e(Ljava/lang/String;Ljava/lang/String;)I
; v0 : Ljava/lang/String; , v1 : Ljava/lang/String;
l5d326:
	goto/16	l5d1fe
l5d32a:
.line 232
	move-exception	v0
; v0 : java/lang/Exception
	invoke-interface	{v12},android/database/Cursor/close	; close()V
; v12 : Landroid/database/Cursor;
	throw	v0
; v0 : java/lang/Exception
l5d334:
.line 153
	const/4	v0,0
; v0 : single-length
	move	v7,v0
; v7 : single-length , v0 : single-length
	goto	l5d252
l5d33a:
.line 166
	const/4	v1,0
; v1 : single-length
	goto	l5d2ce
l5d33e:
.line 195
	iget-object	v2,v13,com/google/android/gm/provider/AttachmentManager.mAccount Ljava/lang/String;
; v2 : Ljava/lang/String; , v13 : Lcom/google/android/gm/provider/AttachmentManager;
	invoke-static	{v2,v1},com/google/android/gm/provider/AttachmentManager/getAttachmentDownloadCookiesHeaderValue	; getAttachmentDownloadCookiesHeaderValue(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;
; v2 : Ljava/lang/String; , v1 : Ljava/lang/String;
	move-result-object	v2
; v2 : Ljava/lang/String;
.line 197
	invoke-virtual	{v0},java/net/URI/toString	; toString()Ljava/lang/String;
; v0 : Ljava/net/URI;
	move-result-object	v1
; v1 : Ljava/lang/String;
.line 198
	iget-object	v3,v13,com/google/android/gm/provider/AttachmentManager.mContentResolver Landroid/content/ContentResolver;
; v3 : Landroid/content/ContentResolver; , v13 : Lcom/google/android/gm/provider/AttachmentManager;
	invoke-static	{v3},com/google/android/common/http/UrlRules/getRules	; getRules(Landroid/content/ContentResolver;)Lcom/google/android/common/http/UrlRules;
; v3 : Landroid/content/ContentResolver;
	move-result-object	v3
; v3 : Lcom/google/android/common/http/UrlRules;
.line 199
	invoke-virtual	{v3,v1},com/google/android/common/http/UrlRules/matchRule	; matchRule(Ljava/lang/String;)Lcom/google/android/common/http/UrlRules$Rule;
; v3 : Lcom/google/android/common/http/UrlRules; , v1 : Ljava/lang/String;
	move-result-object	v3
; v3 : Lcom/google/android/common/http/UrlRules$Rule;
.line 200
	invoke-virtual	{v3,v1},com/google/android/common/http/UrlRules$Rule/apply	; apply(Ljava/lang/String;)Ljava/lang/String;
; v3 : Lcom/google/android/common/http/UrlRules$Rule; , v1 : Ljava/lang/String;
	move-result-object	v1
; v1 : Ljava/lang/String;
.line 202
	if-nez	v1,l5d3f8
; v1 : Ljava/lang/String;
.line 203
	const-string	v1,"Gmail"
; v1 : Ljava/lang/String;
	new-instance	v2,java/lang/StringBuilder
; v2 : Ljava/lang/StringBuilder;
	invoke-direct	{v2},java/lang/StringBuilder/<init>	; <init>()V
; v2 : Ljava/lang/StringBuilder;
	const-string	v3,"AttachmentManger abandoning download of "
; v3 : Ljava/lang/String;
	invoke-virtual	{v2,v3},java/lang/StringBuilder/append	; append(Ljava/lang/String;)Ljava/lang/StringBuilder;
; v2 : Ljava/lang/StringBuilder; , v3 : Ljava/lang/String;
	move-result-object	v2
; v2 : Ljava/lang/StringBuilder;
	invoke-virtual	{v2,v0},java/lang/StringBuilder/append	; append(Ljava/lang/Object;)Ljava/lang/StringBuilder;
; v2 : Ljava/lang/StringBuilder; , v0 : Ljava/net/URI;
	move-result-object	v0
; v0 : Ljava/lang/StringBuilder;
	const-string	v2," because it is blocked by rules"
; v2 : Ljava/lang/String;
	invoke-virtual	{v0,v2},java/lang/StringBuilder/append	; append(Ljava/lang/String;)Ljava/lang/StringBuilder;
; v0 : Ljava/lang/StringBuilder; , v2 : Ljava/lang/String;
	move-result-object	v0
; v0 : Ljava/lang/StringBuilder;
	invoke-virtual	{v0},java/lang/StringBuilder/toString	; toString()Ljava/lang/String;
; v0 : Ljava/lang/StringBuilder;
	move-result-object	v0
; v0 : Ljava/lang/String;
	invoke-static	{v1,v0},android/util/Log/w	; w(Ljava/lang/String;Ljava/lang/String;)I
; v1 : Ljava/lang/String; , v0 : Ljava/lang/String;
.line 206
	new-instance	v0,android/content/ContentValues
; v0 : Landroid/content/ContentValues;
	invoke-direct	{v0},android/content/ContentValues/<init>	; <init>()V
; v0 : Landroid/content/ContentValues;
.line 207
	const-string	v1,"status"
; v1 : Ljava/lang/String;
	const/16	v2,493
; v2 : single-length
	invoke-static	{v2},java/lang/Integer/valueOf	; valueOf(I)Ljava/lang/Integer;
; v2 : single-length
	move-result-object	v2
; v2 : Ljava/lang/Integer;
	invoke-virtual	{v0,v1,v2},android/content/ContentValues/put	; put(Ljava/lang/String;Ljava/lang/Integer;)V
; v0 : Landroid/content/ContentValues; , v1 : Ljava/lang/String; , v2 : Ljava/lang/Integer;
.line 209
	iget-object	v1,v13,com/google/android/gm/provider/AttachmentManager.mDb Landroid/database/sqlite/SQLiteDatabase;
; v1 : Landroid/database/sqlite/SQLiteDatabase; , v13 : Lcom/google/android/gm/provider/AttachmentManager;
	const-string	v2,"attachments"
; v2 : Ljava/lang/String;
	const-string	v3,"_id = ?"
; v3 : Ljava/lang/String;
	const/4	v4,1
; v4 : single-length
	new-array	v4,v4,[Ljava/lang/String;
; v4 : [Ljava/lang/String; , v4 : [Ljava/lang/String;
	const/4	v5,0
; v5 : single-length
	invoke-static	{v14,v15},java/lang/Long/toString	; toString(J)Ljava/lang/String;
; v14 : double-length
	move-result-object	v6
; v6 : Ljava/lang/String;
	aput-object	v6,v4,v5
; v6 : Ljava/lang/String; , v4 : [Ljava/lang/String; , v5 : single-length
	invoke-virtual	{v1,v2,v0,v3,v4},android/database/sqlite/SQLiteDatabase/update	; update(Ljava/lang/String;Landroid/content/ContentValues;Ljava/lang/String;[Ljava/lang/String;)I
; v1 : Landroid/database/sqlite/SQLiteDatabase; , v2 : Ljava/lang/String; , v0 : Landroid/content/ContentValues; , v3 : Ljava/lang/String; , v4 : [Ljava/lang/String;
	goto/16	l5d1fe
l5d3f8:
.line 213
	iget-object	v0,v13,com/google/android/gm/provider/AttachmentManager.mContext Landroid/content/Context;
; v0 : Landroid/content/Context; , v13 : Lcom/google/android/gm/provider/AttachmentManager;
	const/4	v3,0
; v3 : single-length
	if-eqz	v7,l5d482
; v7 : single-length
	const/4	v4,1
; v4 : single-length
l5d404:
	const/4	v5,1
; v5 : single-length
	const/4	v6,1
; v6 : single-length
	const/4	v7,0
; v7 : single-length
	const-string	v9,"com.google.android.gm"
; v9 : Ljava/lang/String;
	const-class	v10,com/google/android/gm/MailIntentReceiver
; v10 : Ljava/lang/Class;
	invoke-virtual	{v10},java/lang/Class/getName	; getName()Ljava/lang/String;
; v10 : Ljava/lang/Class;
	move-result-object	v10
; v10 : Ljava/lang/String;
	iget-object	v11,v13,com/google/android/gm/provider/AttachmentManager.mAccount Ljava/lang/String;
; v11 : Ljava/lang/String; , v13 : Lcom/google/android/gm/provider/AttachmentManager;
	invoke-static/range	{v0..v11},com/google/android/gm/downloadprovider/Downloads$ByUri/startDownloadByUri;	startDownloadByUri(Landroid/content/Context;Ljava/lang/String;Ljava/lang/String;ZIZZLjava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)J
; v0 : Landroid/content/Context; , v1 : Ljava/lang/String; , v2 : Ljava/lang/String; , v3 : single-length , v4 : single-length , v5 : single-length , v6 : single-length , v7 : single-length , v8 : Ljava/lang/String; , v9 : Ljava/lang/String; , v10 : Ljava/lang/String; , v11 : Ljava/lang/String;
	move-result-wide	v0
; v0 : double-length
.line 223
	new-instance	v2,android/content/ContentValues
; v2 : Landroid/content/ContentValues;
	invoke-direct	{v2},android/content/ContentValues/<init>	; <init>()V
; v2 : Landroid/content/ContentValues;
.line 224
	const-string	v3,"downloadId"
; v3 : Ljava/lang/String;
	invoke-static	{v0,v1},java/lang/Long/valueOf	; valueOf(J)Ljava/lang/Long;
; v0 : double-length
	move-result-object	v0
; v0 : Ljava/lang/Long;
	invoke-virtual	{v2,v3,v0},android/content/ContentValues/put	; put(Ljava/lang/String;Ljava/lang/Long;)V
; v2 : Landroid/content/ContentValues; , v3 : Ljava/lang/String; , v0 : Ljava/lang/Long;
.line 225
	const-string	v0,"status"
; v0 : Ljava/lang/String;
	const/16	v1,192
; v1 : single-length
	invoke-static	{v1},java/lang/Integer/valueOf	; valueOf(I)Ljava/lang/Integer;
; v1 : single-length
	move-result-object	v1
; v1 : Ljava/lang/Integer;
	invoke-virtual	{v2,v0,v1},android/content/ContentValues/put	; put(Ljava/lang/String;Ljava/lang/Integer;)V
; v2 : Landroid/content/ContentValues; , v0 : Ljava/lang/String; , v1 : Ljava/lang/Integer;
.line 227
	iget-object	v0,v13,com/google/android/gm/provider/AttachmentManager.mDb Landroid/database/sqlite/SQLiteDatabase;
; v0 : Landroid/database/sqlite/SQLiteDatabase; , v13 : Lcom/google/android/gm/provider/AttachmentManager;
	const-string	v1,"attachments"
; v1 : Ljava/lang/String;
	const-string	v3,"_id = ?"
; v3 : Ljava/lang/String;
	const/4	v4,1
; v4 : single-length
	new-array	v4,v4,[Ljava/lang/String;
; v4 : [Ljava/lang/String; , v4 : [Ljava/lang/String;
	const/4	v5,0
; v5 : single-length
	invoke-static	{v14,v15},java/lang/Long/toString	; toString(J)Ljava/lang/String;
; v14 : double-length
	move-result-object	v6
; v6 : Ljava/lang/String;
	aput-object	v6,v4,v5
; v6 : Ljava/lang/String; , v4 : [Ljava/lang/String; , v5 : single-length
	invoke-virtual	{v0,v1,v2,v3,v4},android/database/sqlite/SQLiteDatabase/update	; update(Ljava/lang/String;Landroid/content/ContentValues;Ljava/lang/String;[Ljava/lang/String;)I
; v0 : Landroid/database/sqlite/SQLiteDatabase; , v1 : Ljava/lang/String; , v2 : Landroid/content/ContentValues; , v3 : Ljava/lang/String; , v4 : [Ljava/lang/String;
l5d47e:
	goto/16	l5d1fe
l5d482:
.line 213
	const/4	v4,3
; v4 : single-length
	goto	l5d404
l5d486:
.line 180
	move-exception	v2
; v2 : android/accounts/OperationCanceledException
	goto/16	l5d314
l5d48c:
.line 178
	move-exception	v2
; v2 : android/accounts/AuthenticatorException
	goto/16	l5d314
l5d492:
.line 176
	move-exception	v2
; v2 : java/io/IOException
	goto/16	l5d314
.end method

.method public cancelDownloadRequest(JJLjava/lang/String;Lcom/google/android/gm/provider/Gmail$AttachmentRendition;Z)I
.limit registers 23
; this: v15 (Lcom/google/android/gm/provider/AttachmentManager;)
; parameter[0] : v16 (J)
; parameter[1] : v18 (J)
; parameter[2] : v20 (Ljava/lang/String;)
; parameter[3] : v21 (Lcom/google/android/gm/provider/Gmail$AttachmentRendition;)
; parameter[4] : v22 (Z)
.catch java/lang/Exception from l5d576 to l5d5cc using l5d5e0
.var 13 is requestDescription Ljava/lang/String; from l5d4fe to l5d52e
.var 7 is attachmentId J from l5d58c to l5d5ce
.var 9 is automatic Z from l5d5a8 to l5d5ce
.var 11 is downloadId J from l5d596 to l5d5ce
.var 14 is status I from l5d5b2 to l5d5ce
.var 7 is attachmentId J from l5d5d6 to l5d5dc
.var 11 is downloadId J from l5d5d6 to l5d5dc
.line 534
	const-string	v0,"Gmail"
; v0 : Ljava/lang/String;
	const/4	v1,2
; v1 : single-length
	invoke-static	{v0,v1},android/util/Log/isLoggable	; isLoggable(Ljava/lang/String;I)Z
; v0 : Ljava/lang/String; , v1 : single-length
	move-result	v0
; v0 : single-length
	if-eqz	v0,l5d52e
; v0 : single-length
.line 535
	invoke-direct/range	{v15..v22},com/google/android/gm/provider/AttachmentManager/requestDescription;	requestDescription(JJLjava/lang/String;Lcom/google/android/gm/provider/Gmail$AttachmentRendition;Z)Ljava/lang/String;
; v15 : Lcom/google/android/gm/provider/AttachmentManager; , v16 : double-length , v18 : double-length , v20 : Ljava/lang/String; , v21 : Lcom/google/android/gm/provider/Gmail$AttachmentRendition; , v22 : single-length
	move-result-object	v13
; v13 : Ljava/lang/String;
.line 537
	const-string	v0,"Gmail"
; v0 : Ljava/lang/String;
	new-instance	v1,java/lang/StringBuilder
; v1 : Ljava/lang/StringBuilder;
	invoke-direct	{v1},java/lang/StringBuilder/<init>	; <init>()V
; v1 : Ljava/lang/StringBuilder;
	const-string	v2,"cancelDownloadRequest: "
; v2 : Ljava/lang/String;
	invoke-virtual	{v1,v2},java/lang/StringBuilder/append	; append(Ljava/lang/String;)Ljava/lang/StringBuilder;
; v1 : Ljava/lang/StringBuilder; , v2 : Ljava/lang/String;
	move-result-object	v1
; v1 : Ljava/lang/StringBuilder;
	invoke-virtual	{v1,v13},java/lang/StringBuilder/append	; append(Ljava/lang/String;)Ljava/lang/StringBuilder;
; v1 : Ljava/lang/StringBuilder; , v13 : Ljava/lang/String;
	move-result-object	v1
; v1 : Ljava/lang/StringBuilder;
	invoke-virtual	{v1},java/lang/StringBuilder/toString	; toString()Ljava/lang/String;
; v1 : Ljava/lang/StringBuilder;
	move-result-object	v1
; v1 : Ljava/lang/String;
	invoke-static	{v0,v1},android/util/Log/d	; d(Ljava/lang/String;Ljava/lang/String;)I
; v0 : Ljava/lang/String; , v1 : Ljava/lang/String;
l5d52e:
.line 539
	const/4	v0,4
; v0 : single-length
	new-array	v6,v0,[Ljava/lang/String;
; v6 : [Ljava/lang/String; , v0 : single-length
	const/4	v0,0
; v0 : single-length
	const-string	v1,"_id"
; v1 : Ljava/lang/String;
	aput-object	v1,v6,v0
; v1 : Ljava/lang/String; , v6 : [Ljava/lang/String; , v0 : single-length
	const/4	v0,1
; v0 : single-length
	const-string	v1,"downloadId"
; v1 : Ljava/lang/String;
	aput-object	v1,v6,v0
; v1 : Ljava/lang/String; , v6 : [Ljava/lang/String; , v0 : single-length
	const/4	v0,2
; v0 : single-length
	const-string	v1,"automatic"
; v1 : Ljava/lang/String;
	aput-object	v1,v6,v0
; v1 : Ljava/lang/String; , v6 : [Ljava/lang/String; , v0 : single-length
	const/4	v0,3
; v0 : single-length
	const-string	v1,"status"
; v1 : Ljava/lang/String;
	aput-object	v1,v6,v0
; v1 : Ljava/lang/String; , v6 : [Ljava/lang/String; , v0 : single-length
	move-object	v0,v15
; v0 : Lcom/google/android/gm/provider/AttachmentManager; , v15 : Lcom/google/android/gm/provider/AttachmentManager;
	move-wide/from16	v1,v18
; v1 : double-length , v18 : double-length
	move-object/from16	v3,v20
; v3 : Ljava/lang/String; , v20 : Ljava/lang/String;
	move-object/from16	v4,v21
; v4 : Lcom/google/android/gm/provider/Gmail$AttachmentRendition; , v21 : Lcom/google/android/gm/provider/Gmail$AttachmentRendition;
	move/from16	v5,v22
; v5 : single-length , v22 : single-length
	invoke-direct/range	{v0..v6},com/google/android/gm/provider/AttachmentManager/newAttachmentCursor;	newAttachmentCursor(JLjava/lang/String;Lcom/google/android/gm/provider/Gmail$AttachmentRendition;Z[Ljava/lang/String;)Landroid/database/Cursor;
; v0 : Lcom/google/android/gm/provider/AttachmentManager; , v1 : double-length , v3 : Ljava/lang/String; , v4 : Lcom/google/android/gm/provider/Gmail$AttachmentRendition; , v5 : single-length , v6 : [Ljava/lang/String;
	move-result-object	v10
; v10 : Landroid/database/Cursor;
l5d576:
.line 543
	invoke-interface	{v10},android/database/Cursor/moveToNext	; moveToNext()Z
; v10 : Landroid/database/Cursor;
	move-result	v0
; v0 : single-length
	if-eqz	v0,l5d5dc
; v0 : single-length
.line 544
	const/4	v0,0
; v0 : single-length
	invoke-interface	{v10,v0},android/database/Cursor/getLong	; getLong(I)J
; v10 : Landroid/database/Cursor; , v0 : single-length
	move-result-wide	v7
; v7 : double-length
.line 545
	const/4	v0,1
; v0 : single-length
	invoke-interface	{v10,v0},android/database/Cursor/getLong	; getLong(I)J
; v10 : Landroid/database/Cursor; , v0 : single-length
	move-result-wide	v11
; v11 : double-length
.line 546
	const/4	v0,2
; v0 : single-length
	invoke-interface	{v10,v0},android/database/Cursor/getInt	; getInt(I)I
; v10 : Landroid/database/Cursor; , v0 : single-length
	move-result	v0
; v0 : single-length
	if-eqz	v0,l5d5d6
; v0 : single-length
	const/4	v0,1
; v0 : single-length
	move	v9,v0
; v9 : single-length , v0 : single-length
l5d5a8:
.line 547
	const/4	v0,3
; v0 : single-length
	invoke-interface	{v10,v0},android/database/Cursor/getInt	; getInt(I)I
; v10 : Landroid/database/Cursor; , v0 : single-length
	move-result	v14
; v14 : single-length
.line 552
	if-nez	v9,l5d5dc
; v9 : single-length
	if-nez	v22,l5d5c6
; v22 : single-length
	invoke-static	{v14},com/google/android/gm/downloadprovider/Downloads/isStatusSuccess	; isStatusSuccess(I)Z
; v14 : single-length
	move-result	v0
; v0 : single-length
	if-nez	v0,l5d5dc
; v0 : single-length
l5d5c6:
.line 553
	invoke-direct	{v15,v7,v8,v11,v12},com/google/android/gm/provider/AttachmentManager/deleteAttachmentAndDownloadRequest	; deleteAttachmentAndDownloadRequest(JJ)V
; v15 : Lcom/google/android/gm/provider/AttachmentManager; , v7 : double-length , v11 : double-length
l5d5cc:
.line 554
	const/4	v0,1
; v0 : single-length
l5d5ce:
.line 559
	invoke-interface	{v10},android/database/Cursor/close	; close()V
; v10 : Landroid/database/Cursor;
.line 557
	return	v0
; v0 : single-length
l5d5d6:
.line 546
	const/4	v0,0
; v0 : single-length
	move	v9,v0
; v9 : single-length , v0 : single-length
	goto	l5d5a8
l5d5dc:
.line 557
	const/4	v0,0
; v0 : single-length
	goto	l5d5ce
l5d5e0:
.line 559
	move-exception	v0
; v0 : java/lang/Exception
	invoke-interface	{v10},android/database/Cursor/close	; close()V
; v10 : Landroid/database/Cursor;
	throw	v0
; v0 : java/lang/Exception
.end method

.method public enqueueAttachment(JJLcom/google/android/gm/provider/Gmail$Attachment;Lcom/google/android/gm/provider/Gmail$AttachmentRendition;ZZ)V
.limit registers 21
; this: v12 (Lcom/google/android/gm/provider/AttachmentManager;)
; parameter[0] : v13 (J)
; parameter[1] : v15 (J)
; parameter[2] : v17 (Lcom/google/android/gm/provider/Gmail$Attachment;)
; parameter[3] : v18 (Lcom/google/android/gm/provider/Gmail$AttachmentRendition;)
; parameter[4] : v19 (Z)
; parameter[5] : v20 (Z)
.line 99
	invoke-virtual/range	{v12..v20},com/google/android/gm/provider/AttachmentManager/recordAttachmentInDb;	recordAttachmentInDb(JJLcom/google/android/gm/provider/Gmail$Attachment;Lcom/google/android/gm/provider/Gmail$AttachmentRendition;ZZ)J
; v12 : Lcom/google/android/gm/provider/AttachmentManager; , v13 : double-length , v15 : double-length , v17 : Lcom/google/android/gm/provider/Gmail$Attachment; , v18 : Lcom/google/android/gm/provider/Gmail$AttachmentRendition; , v19 : single-length , v20 : single-length
	move-result-wide	v9
; v9 : double-length
.line 102
	move-object/from16	v0,v17
; v0 : Lcom/google/android/gm/provider/Gmail$Attachment; , v17 : Lcom/google/android/gm/provider/Gmail$Attachment;
	iget-object	v0,v0,com/google/android/gm/provider/Gmail$Attachment.partId Ljava/lang/String;
; v0 : Ljava/lang/String; , v0 : Ljava/lang/String;
	move-object	v6,v0
; v6 : Ljava/lang/String; , v0 : Ljava/lang/String;
	move-object	v1,v12
; v1 : Lcom/google/android/gm/provider/AttachmentManager; , v12 : Lcom/google/android/gm/provider/AttachmentManager;
	move-wide	v2,v13
; v2 : double-length , v13 : double-length
	move-wide	v4,v15
; v4 : double-length , v15 : double-length
	move-object/from16	v7,v18
; v7 : Lcom/google/android/gm/provider/Gmail$AttachmentRendition; , v18 : Lcom/google/android/gm/provider/Gmail$AttachmentRendition;
	move/from16	v8,v19
; v8 : single-length , v19 : single-length
	invoke-direct/range	{v1..v8},com/google/android/gm/provider/AttachmentManager/requestDescription;	requestDescription(JJLjava/lang/String;Lcom/google/android/gm/provider/Gmail$AttachmentRendition;Z)Ljava/lang/String;
; v1 : Lcom/google/android/gm/provider/AttachmentManager; , v2 : double-length , v4 : double-length , v6 : Ljava/lang/String; , v7 : Lcom/google/android/gm/provider/Gmail$AttachmentRendition; , v8 : single-length
	move-result-object	v11
; v11 : Ljava/lang/String;
.line 104
	const-string	v1,"Gmail"
; v1 : Ljava/lang/String;
	const/4	v2,2
; v2 : single-length
	invoke-static	{v1,v2},android/util/Log/isLoggable	; isLoggable(Ljava/lang/String;I)Z
; v1 : Ljava/lang/String; , v2 : single-length
	move-result	v1
; v1 : single-length
	if-eqz	v1,l5d686
; v1 : single-length
.line 105
	const-string	v1,"Gmail"
; v1 : Ljava/lang/String;
	new-instance	v2,java/lang/StringBuilder
; v2 : Ljava/lang/StringBuilder;
	invoke-direct	{v2},java/lang/StringBuilder/<init>	; <init>()V
; v2 : Ljava/lang/StringBuilder;
	const-string	v3,"enqueueAttachment attachmentId:"
; v3 : Ljava/lang/String;
	invoke-virtual	{v2,v3},java/lang/StringBuilder/append	; append(Ljava/lang/String;)Ljava/lang/StringBuilder;
; v2 : Ljava/lang/StringBuilder; , v3 : Ljava/lang/String;
	move-result-object	v2
; v2 : Ljava/lang/StringBuilder;
	invoke-virtual	{v2,v9,v10},java/lang/StringBuilder/append	; append(J)Ljava/lang/StringBuilder;
; v2 : Ljava/lang/StringBuilder; , v9 : double-length
	move-result-object	v2
; v2 : Ljava/lang/StringBuilder;
	const-string	v3,": "
; v3 : Ljava/lang/String;
	invoke-virtual	{v2,v3},java/lang/StringBuilder/append	; append(Ljava/lang/String;)Ljava/lang/StringBuilder;
; v2 : Ljava/lang/StringBuilder; , v3 : Ljava/lang/String;
	move-result-object	v2
; v2 : Ljava/lang/StringBuilder;
	invoke-virtual	{v2,v11},java/lang/StringBuilder/append	; append(Ljava/lang/String;)Ljava/lang/StringBuilder;
; v2 : Ljava/lang/StringBuilder; , v11 : Ljava/lang/String;
	move-result-object	v2
; v2 : Ljava/lang/StringBuilder;
	invoke-virtual	{v2},java/lang/StringBuilder/toString	; toString()Ljava/lang/String;
; v2 : Ljava/lang/StringBuilder;
	move-result-object	v2
; v2 : Ljava/lang/String;
	invoke-static	{v1,v2},android/util/Log/d	; d(Ljava/lang/String;Ljava/lang/String;)I
; v1 : Ljava/lang/String; , v2 : Ljava/lang/String;
l5d686:
.line 108
	iget-object	v1,v12,com/google/android/gm/provider/AttachmentManager.mRestrictedMailEngine Lcom/google/android/gm/provider/AttachmentManager$RestrictedMailEngine;
; v1 : Lcom/google/android/gm/provider/AttachmentManager$RestrictedMailEngine; , v12 : Lcom/google/android/gm/provider/AttachmentManager;
	new-instance	v2,com/google/android/gm/provider/AttachmentManager$3
; v2 : Lcom/google/android/gm/provider/AttachmentManager$3;
	invoke-direct	{v2,v12},com/google/android/gm/provider/AttachmentManager$3/<init>	; <init>(Lcom/google/android/gm/provider/AttachmentManager;)V
; v2 : Lcom/google/android/gm/provider/AttachmentManager$3; , v12 : Lcom/google/android/gm/provider/AttachmentManager;
	invoke-interface	{v1,v2},com/google/android/gm/provider/AttachmentManager$RestrictedMailEngine/postBackgroundTask	; postBackgroundTask(Ljava/lang/Runnable;)V
; v1 : Lcom/google/android/gm/provider/AttachmentManager$RestrictedMailEngine; , v2 : Lcom/google/android/gm/provider/AttachmentManager$3;
.line 113
	return-void	
.end method

.method public getType(JJLcom/google/android/gm/provider/Gmail$Attachment;Lcom/google/android/gm/provider/Gmail$AttachmentRendition;Z)Ljava/lang/String;
.limit registers 22
; this: v14 (Lcom/google/android/gm/provider/AttachmentManager;)
; parameter[0] : v15 (J)
; parameter[1] : v17 (J)
; parameter[2] : v19 (Lcom/google/android/gm/provider/Gmail$Attachment;)
; parameter[3] : v20 (Lcom/google/android/gm/provider/Gmail$AttachmentRendition;)
; parameter[4] : v21 (Z)
.catch java/lang/Exception from l5d736 to l5d748 using l5d764
.catch java/lang/Exception from l5d6b8 to l5d720 using l5d764
.var 13 is status I from l5d706 to l5d72c
.var 11 is downloadId J from l5d73e to l5d756
.var 13 is status I from l5d734 to l5d756
.var 7 is projection [Ljava/lang/String; from l5d6d0 to l5d764
.line 461
	const/4	v8,0
; v8 : single-length
.line 465
	invoke-static	{},android/os/Binder/clearCallingIdentity	; clearCallingIdentity()J
; 
	nop	
	move-result-wide	v9
; v9 : double-length
.line 467
	const/4	v1,2
; v1 : single-length
l5d6b8:
	new-array	v7,v1,[Ljava/lang/String;
; v7 : [Ljava/lang/String; , v1 : single-length
	const/4	v1,0
; v1 : single-length
	const-string	v2,"downloadId"
; v2 : Ljava/lang/String;
	aput-object	v2,v7,v1
; v2 : Ljava/lang/String; , v7 : [Ljava/lang/String; , v1 : single-length
	const/4	v1,1
; v1 : single-length
	const-string	v2,"status"
; v2 : Ljava/lang/String;
	aput-object	v2,v7,v1
; v2 : Ljava/lang/String; , v7 : [Ljava/lang/String; , v1 : single-length
.line 468
	move-object/from16	v0,v19
; v0 : Lcom/google/android/gm/provider/Gmail$Attachment; , v19 : Lcom/google/android/gm/provider/Gmail$Attachment;
	iget-object	v0,v0,com/google/android/gm/provider/Gmail$Attachment.partId Ljava/lang/String;
; v0 : Ljava/lang/String; , v0 : Ljava/lang/String;
	move-object	v4,v0
; v4 : Ljava/lang/String; , v0 : Ljava/lang/String;
	move-object	v1,v14
; v1 : Lcom/google/android/gm/provider/AttachmentManager; , v14 : Lcom/google/android/gm/provider/AttachmentManager;
	move-wide/from16	v2,v17
; v2 : double-length , v17 : double-length
	move-object/from16	v5,v20
; v5 : Lcom/google/android/gm/provider/Gmail$AttachmentRendition; , v20 : Lcom/google/android/gm/provider/Gmail$AttachmentRendition;
	move/from16	v6,v21
; v6 : single-length , v21 : single-length
	invoke-direct/range	{v1..v7},com/google/android/gm/provider/AttachmentManager/newAttachmentCursor;	newAttachmentCursor(JLjava/lang/String;Lcom/google/android/gm/provider/Gmail$AttachmentRendition;Z[Ljava/lang/String;)Landroid/database/Cursor;
; v1 : Lcom/google/android/gm/provider/AttachmentManager; , v2 : double-length , v4 : Ljava/lang/String; , v5 : Lcom/google/android/gm/provider/Gmail$AttachmentRendition; , v6 : single-length , v7 : [Ljava/lang/String;
	move-result-object	v8
; v8 : Landroid/database/Cursor;
.line 470
	invoke-interface	{v8},android/database/Cursor/moveToNext	; moveToNext()Z
; v8 : Landroid/database/Cursor;
	move-result	v1
; v1 : single-length
	if-eqz	v1,l5d756
; v1 : single-length
.line 471
	const/4	v1,1
; v1 : single-length
	invoke-interface	{v8,v1},android/database/Cursor/getInt	; getInt(I)I
; v8 : Landroid/database/Cursor; , v1 : single-length
	move-result	v13
; v13 : single-length
.line 472
	invoke-static	{v13},com/google/android/gm/downloadprovider/Downloads/isStatusSuccess	; isStatusSuccess(I)Z
; v13 : single-length
	move-result	v1
; v1 : single-length
	if-nez	v1,l5d734
; v1 : single-length
.line 473
	const-string	v1,"Gmail"
; v1 : Ljava/lang/String;
	const-string	v2,"Download not complete or not successful"
; v2 : Ljava/lang/String;
	invoke-static	{v1,v2},android/util/Log/e	; e(Ljava/lang/String;Ljava/lang/String;)I
; v1 : Ljava/lang/String; , v2 : Ljava/lang/String;
l5d720:
.line 474
	const/4	v1,0
; v1 : single-length
.line 482
	invoke-static	{v9,v10},android/os/Binder/restoreCallingIdentity	; restoreCallingIdentity(J)V
; v9 : double-length
.line 483
	if-eqz	v8,l5d732
; v8 : Landroid/database/Cursor;
l5d72c:
	invoke-interface	{v8},android/database/Cursor/close	; close()V
; v8 : Landroid/database/Cursor;
l5d732:
.line 480
	return-object	v1
; v1 : single-length
l5d734:
.line 477
	const/4	v1,0
; v1 : single-length
l5d736:
	invoke-interface	{v8,v1},android/database/Cursor/getLong	; getLong(I)J
; v8 : Landroid/database/Cursor; , v1 : single-length
	move-result-wide	v11
; v11 : double-length
.line 478
	iget-object	v1,v14,com/google/android/gm/provider/AttachmentManager.mContext Landroid/content/Context;
; v1 : Landroid/content/Context; , v14 : Lcom/google/android/gm/provider/AttachmentManager;
	invoke-static	{v1,v11,v12},com/google/android/gm/downloadprovider/Downloads$ById/getMimeTypeForId	; getMimeTypeForId(Landroid/content/Context;J)Ljava/lang/String;
; v1 : Landroid/content/Context; , v11 : double-length
l5d748:
	move-result-object	v1
; v1 : Ljava/lang/String;
.line 482
	invoke-static	{v9,v10},android/os/Binder/restoreCallingIdentity	; restoreCallingIdentity(J)V
; v9 : double-length
.line 483
	if-eqz	v8,l5d732
; v8 : Landroid/database/Cursor;
	goto	l5d72c
l5d756:
.line 480
	const/4	v1,0
; v1 : single-length
.line 482
	invoke-static	{v9,v10},android/os/Binder/restoreCallingIdentity	; restoreCallingIdentity(J)V
; v9 : double-length
.line 483
	if-eqz	v8,l5d732
; v8 : Landroid/database/Cursor;
	goto	l5d72c
l5d764:
.line 482
	move-exception	v1
; v1 : java/lang/Exception
	invoke-static	{v9,v10},android/os/Binder/restoreCallingIdentity	; restoreCallingIdentity(J)V
; v9 : double-length
.line 483
	if-eqz	v8,l5d776
; v8 : Landroid/database/Cursor;
	invoke-interface	{v8},android/database/Cursor/close	; close()V
; v8 : Landroid/database/Cursor;
l5d776:
.line 482
	throw	v1
; v1 : java/lang/Exception
.end method

.method public handleDownloadManagerIntent(Landroid/content/Intent;)V
.limit registers 9
; this: v7 (Lcom/google/android/gm/provider/AttachmentManager;)
; parameter[0] : v8 (Landroid/content/Intent;)
.line 506
	invoke-virtual	{v8},android/content/Intent/getData	; getData()Landroid/net/Uri;
; v8 : Landroid/content/Intent;
	move-result-object	v3
; v3 : Landroid/net/Uri;
.line 507
	invoke-virtual	{v3},android/net/Uri/getLastPathSegment	; getLastPathSegment()Ljava/lang/String;
; v3 : Landroid/net/Uri;
	move-result-object	v4
; v4 : Ljava/lang/String;
	invoke-static	{v4},java/lang/Long/parseLong	; parseLong(Ljava/lang/String;)J
; v4 : Ljava/lang/String;
	move-result-wide	v0
; v0 : double-length
.line 508
	iget-object	v4,v7,com/google/android/gm/provider/AttachmentManager.mContext Landroid/content/Context;
; v4 : Landroid/content/Context; , v7 : Lcom/google/android/gm/provider/AttachmentManager;
	invoke-static	{v4,v0,v1},com/google/android/gm/downloadprovider/Downloads$ById/getStatus	; getStatus(Landroid/content/Context;J)Lcom/google/android/gm/downloadprovider/Downloads$StatusInfo;
; v4 : Landroid/content/Context; , v0 : double-length
	move-result-object	v2
; v2 : Lcom/google/android/gm/downloadprovider/Downloads$StatusInfo;
.line 510
	if-nez	v2,l5d7f6
; v2 : Lcom/google/android/gm/downloadprovider/Downloads$StatusInfo;
.line 511
	const-string	v4,"Gmail"
; v4 : Ljava/lang/String;
	new-instance	v5,java/lang/StringBuilder
; v5 : Ljava/lang/StringBuilder;
	invoke-direct	{v5},java/lang/StringBuilder/<init>	; <init>()V
; v5 : Ljava/lang/StringBuilder;
	const-string	v6,"Received notification from DownloadManager but DM could not find download: "
; v6 : Ljava/lang/String;
	invoke-virtual	{v5,v6},java/lang/StringBuilder/append	; append(Ljava/lang/String;)Ljava/lang/StringBuilder;
; v5 : Ljava/lang/StringBuilder; , v6 : Ljava/lang/String;
	move-result-object	v5
; v5 : Ljava/lang/StringBuilder;
	invoke-virtual	{v5,v0,v1},java/lang/StringBuilder/append	; append(J)Ljava/lang/StringBuilder;
; v5 : Ljava/lang/StringBuilder; , v0 : double-length
	move-result-object	v5
; v5 : Ljava/lang/StringBuilder;
	invoke-virtual	{v5},java/lang/StringBuilder/toString	; toString()Ljava/lang/String;
; v5 : Ljava/lang/StringBuilder;
	move-result-object	v5
; v5 : Ljava/lang/String;
	invoke-static	{v4,v5},android/util/Log/e	; e(Ljava/lang/String;Ljava/lang/String;)I
; v4 : Ljava/lang/String; , v5 : Ljava/lang/String;
l5d7f4:
.line 518
	return-void	
l5d7f6:
.line 516
	invoke-virtual	{v2},com/google/android/gm/downloadprovider/Downloads$StatusInfo/isComplete	; isComplete()Z
; v2 : Lcom/google/android/gm/downloadprovider/Downloads$StatusInfo;
	move-result	v4
; v4 : single-length
	if-eqz	v4,l5d7f4
; v4 : single-length
.line 517
	invoke-virtual	{v7,v0,v1,v2},com/google/android/gm/provider/AttachmentManager/onDownloadCompletedByDownloadManager	; onDownloadCompletedByDownloadManager(JLcom/google/android/gm/downloadprovider/Downloads$StatusInfo;)V
; v7 : Lcom/google/android/gm/provider/AttachmentManager; , v0 : double-length , v2 : Lcom/google/android/gm/downloadprovider/Downloads$StatusInfo;
	goto	l5d7f4
.end method

.method onDownloadCompletedByDownloadManager(JLcom/google/android/gm/downloadprovider/Downloads$StatusInfo;)V
.limit registers 29
; this: v25 (Lcom/google/android/gm/provider/AttachmentManager;)
; parameter[0] : v26 (J)
; parameter[1] : v28 (Lcom/google/android/gm/downloadprovider/Downloads$StatusInfo;)
.catch java/lang/Exception from l5db6a to l5dbde using l5dbe0
.catch java/lang/Exception from l5d8c0 to l5db38 using l5dbe0
.catch java/lang/Exception from l5d89c to l5d8b6 using l5dbe0
.var 7 is attachmentProjection [Ljava/lang/String; from l5d868 to l5d8bc
.var 7 is attachmentProjection [Ljava/lang/String; from l5d8be to l5d976
.var 18 is attachmentId J from l5d8ce to l5dab4
.var 21 is newDownloadRendition Lcom/google/android/gm/provider/Gmail$AttachmentRendition; from l5da2e to l5db38
.var 22 is newRequestDescription Ljava/lang/String; from l5dae8 to l5db38
.var 24 is values Landroid/content/ContentValues; from l5da38 to l5db38
.var 15 is saveToSd Z from l5d946 to l5db62
.var 23 is requestDescription Ljava/lang/String; from l5d952 to l5db62
.var 7 is attachmentProjection [Ljava/lang/String; from l5db62 to l5db6a
.var 9 is conversationId J from l5d8de to l5dbe0
.var 11 is messageId J from l5d8ee to l5dbe0
.var 13 is partId Ljava/lang/String; from l5d8fe to l5dbe0
.var 14 is desiredRendition Lcom/google/android/gm/provider/Gmail$AttachmentRendition; from l5d916 to l5dbe0
.var 15 is saveToSd Z from l5db6a to l5dbe0
.var 18 is attachmentId J from l5db62 to l5dbe0
.var 20 is downloadedRendition Lcom/google/android/gm/provider/Gmail$AttachmentRendition; from l5d92e to l5dbe0
.var 23 is requestDescription Ljava/lang/String; from l5db6a to l5dbe0
.line 597
	const/4	v5,7
; v5 : single-length
	new-array	v7,v5,[Ljava/lang/String;
; v7 : [Ljava/lang/String; , v5 : single-length
	const/4	v5,0
; v5 : single-length
	const-string	v6,"_id"
; v6 : Ljava/lang/String;
	aput-object	v6,v7,v5
; v6 : Ljava/lang/String; , v7 : [Ljava/lang/String; , v5 : single-length
	const/4	v5,1
; v5 : single-length
	const-string	v6,"messages_conversation"
; v6 : Ljava/lang/String;
	aput-object	v6,v7,v5
; v6 : Ljava/lang/String; , v7 : [Ljava/lang/String; , v5 : single-length
	const/4	v5,2
; v5 : single-length
	const-string	v6,"messages_messageId"
; v6 : Ljava/lang/String;
	aput-object	v6,v7,v5
; v6 : Ljava/lang/String; , v7 : [Ljava/lang/String; , v5 : single-length
	const/4	v5,3
; v5 : single-length
	const-string	v6,"messages_partId"
; v6 : Ljava/lang/String;
	aput-object	v6,v7,v5
; v6 : Ljava/lang/String; , v7 : [Ljava/lang/String; , v5 : single-length
	const/4	v5,4
; v5 : single-length
	const-string	v6,"desiredRendition"
; v6 : Ljava/lang/String;
	aput-object	v6,v7,v5
; v6 : Ljava/lang/String; , v7 : [Ljava/lang/String; , v5 : single-length
	const/4	v5,5
; v5 : single-length
	const-string	v6,"downloadedRendition"
; v6 : Ljava/lang/String;
	aput-object	v6,v7,v5
; v6 : Ljava/lang/String; , v7 : [Ljava/lang/String; , v5 : single-length
	const/4	v5,6
; v5 : single-length
	const-string	v6,"saveToSd"
; v6 : Ljava/lang/String;
	aput-object	v6,v7,v5
; v6 : Ljava/lang/String; , v7 : [Ljava/lang/String; , v5 : single-length
.line 602
	move-object/from16	v0,v25
; v0 : Lcom/google/android/gm/provider/AttachmentManager; , v25 : Lcom/google/android/gm/provider/AttachmentManager;
	iget-object	v0,v0,com/google/android/gm/provider/AttachmentManager.mDb Landroid/database/sqlite/SQLiteDatabase;
; v0 : Landroid/database/sqlite/SQLiteDatabase; , v0 : Landroid/database/sqlite/SQLiteDatabase;
	move-object	v5,v0
; v5 : Landroid/database/sqlite/SQLiteDatabase; , v0 : Landroid/database/sqlite/SQLiteDatabase;
	const-string	v6,"attachments"
; v6 : Ljava/lang/String;
	const-string	v8,"downloadId = ?"
; v8 : Ljava/lang/String;
	const/4	v9,1
; v9 : single-length
	new-array	v9,v9,[Ljava/lang/String;
; v9 : [Ljava/lang/String; , v9 : [Ljava/lang/String;
	const/4	v10,0
; v10 : single-length
	invoke-static/range	{v26..v27},java/lang/Long/toString;	toString(J)Ljava/lang/String;
; v26 : double-length
	move-result-object	v11
; v11 : Ljava/lang/String;
	aput-object	v11,v9,v10
; v11 : Ljava/lang/String; , v9 : [Ljava/lang/String; , v10 : single-length
	const/4	v10,0
; v10 : single-length
	const/4	v11,0
; v11 : single-length
	const/4	v12,0
; v12 : single-length
	invoke-virtual/range	{v5..v12},android/database/sqlite/SQLiteDatabase/query;	query(Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)Landroid/database/Cursor;
; v5 : Landroid/database/sqlite/SQLiteDatabase; , v6 : Ljava/lang/String; , v7 : [Ljava/lang/String; , v8 : Ljava/lang/String; , v9 : [Ljava/lang/String; , v10 : single-length , v11 : single-length , v12 : single-length
	move-result-object	v17
; v17 : Landroid/database/Cursor;
l5d89c:
.line 608
	invoke-interface/range	{v17},android/database/Cursor/moveToNext;	moveToNext()Z
; v17 : Landroid/database/Cursor;
	move-result	v5
; v5 : single-length
	if-nez	v5,l5d8be
; v5 : single-length
.line 610
	const-string	v5,"Gmail"
; v5 : Ljava/lang/String;
	const-string	v6,"Received notification from download manager but could not find attachment record. This should only happen when the db has been wipe"
; v6 : Ljava/lang/String;
	invoke-static	{v5,v6},android/util/Log/w	; w(Ljava/lang/String;Ljava/lang/String;)I
; v5 : Ljava/lang/String; , v6 : Ljava/lang/String;
l5d8b6:
.line 664
	invoke-interface/range	{v17},android/database/Cursor/close;	close()V
; v17 : Landroid/database/Cursor;
l5d8bc:
.line 672
	return-void	
l5d8be:
.line 614
	const/4	v5,0
; v5 : single-length
l5d8c0:
	move-object/from16	v0,v17
; v0 : Landroid/database/Cursor; , v17 : Landroid/database/Cursor;
	move	v1,v5
; v1 : single-length , v5 : single-length
	invoke-interface	{v0,v1},android/database/Cursor/getLong	; getLong(I)J
; v0 : Landroid/database/Cursor; , v1 : single-length
	move-result-wide	v18
; v18 : double-length
.line 615
	const/4	v5,1
; v5 : single-length
	move-object/from16	v0,v17
; v0 : Landroid/database/Cursor; , v17 : Landroid/database/Cursor;
	move	v1,v5
; v1 : single-length , v5 : single-length
	invoke-interface	{v0,v1},android/database/Cursor/getLong	; getLong(I)J
; v0 : Landroid/database/Cursor; , v1 : single-length
	move-result-wide	v9
; v9 : double-length
.line 616
	const/4	v5,2
; v5 : single-length
	move-object/from16	v0,v17
; v0 : Landroid/database/Cursor; , v17 : Landroid/database/Cursor;
	move	v1,v5
; v1 : single-length , v5 : single-length
	invoke-interface	{v0,v1},android/database/Cursor/getLong	; getLong(I)J
; v0 : Landroid/database/Cursor; , v1 : single-length
	move-result-wide	v11
; v11 : double-length
.line 617
	const/4	v5,3
; v5 : single-length
	move-object/from16	v0,v17
; v0 : Landroid/database/Cursor; , v17 : Landroid/database/Cursor;
	move	v1,v5
; v1 : single-length , v5 : single-length
	invoke-interface	{v0,v1},android/database/Cursor/getString	; getString(I)Ljava/lang/String;
; v0 : Landroid/database/Cursor; , v1 : single-length
	move-result-object	v13
; v13 : Ljava/lang/String;
.line 618
	const/4	v5,4
; v5 : single-length
	move-object/from16	v0,v17
; v0 : Landroid/database/Cursor; , v17 : Landroid/database/Cursor;
	move	v1,v5
; v1 : single-length , v5 : single-length
	invoke-interface	{v0,v1},android/database/Cursor/getString	; getString(I)Ljava/lang/String;
; v0 : Landroid/database/Cursor; , v1 : single-length
	move-result-object	v5
; v5 : Ljava/lang/String;
	invoke-static	{v5},com/google/android/gm/provider/Gmail$AttachmentRendition/valueOf	; valueOf(Ljava/lang/String;)Lcom/google/android/gm/provider/Gmail$AttachmentRendition;
; v5 : Ljava/lang/String;
	move-result-object	v14
; v14 : Lcom/google/android/gm/provider/Gmail$AttachmentRendition;
.line 620
	const/4	v5,5
; v5 : single-length
	move-object/from16	v0,v17
; v0 : Landroid/database/Cursor; , v17 : Landroid/database/Cursor;
	move	v1,v5
; v1 : single-length , v5 : single-length
	invoke-interface	{v0,v1},android/database/Cursor/getString	; getString(I)Ljava/lang/String;
; v0 : Landroid/database/Cursor; , v1 : single-length
	move-result-object	v5
; v5 : Ljava/lang/String;
	invoke-static	{v5},com/google/android/gm/provider/Gmail$AttachmentRendition/valueOf	; valueOf(Ljava/lang/String;)Lcom/google/android/gm/provider/Gmail$AttachmentRendition;
; v5 : Ljava/lang/String;
	move-result-object	v20
; v20 : Lcom/google/android/gm/provider/Gmail$AttachmentRendition;
.line 622
	const/4	v5,6
; v5 : single-length
	move-object/from16	v0,v17
; v0 : Landroid/database/Cursor; , v17 : Landroid/database/Cursor;
	move	v1,v5
; v1 : single-length , v5 : single-length
	invoke-interface	{v0,v1},android/database/Cursor/getInt	; getInt(I)I
; v0 : Landroid/database/Cursor; , v1 : single-length
	move-result	v5
; v5 : single-length
	if-eqz	v5,l5db62
; v5 : single-length
	const/4	v5,1
; v5 : single-length
	move	v15,v5
; v15 : single-length , v5 : single-length
l5d946:
	move-object/from16	v8,v25
; v8 : Lcom/google/android/gm/provider/AttachmentManager; , v25 : Lcom/google/android/gm/provider/AttachmentManager;
.line 624
	invoke-direct/range	{v8..v15},com/google/android/gm/provider/AttachmentManager/requestDescription;	requestDescription(JJLjava/lang/String;Lcom/google/android/gm/provider/Gmail$AttachmentRendition;Z)Ljava/lang/String;
; v8 : Lcom/google/android/gm/provider/AttachmentManager; , v9 : double-length , v11 : double-length , v13 : Ljava/lang/String; , v14 : Lcom/google/android/gm/provider/Gmail$AttachmentRendition; , v15 : single-length
	move-result-object	v23
; v23 : Ljava/lang/String;
.line 626
	const-string	v5,"Gmail"
; v5 : Ljava/lang/String;
	const/4	v6,2
; v6 : single-length
	invoke-static	{v5,v6},android/util/Log/isLoggable	; isLoggable(Ljava/lang/String;I)Z
; v5 : Ljava/lang/String; , v6 : single-length
	move-result	v5
; v5 : single-length
	if-eqz	v5,l5d9ec
; v5 : single-length
.line 627
	const-string	v5,"Gmail"
; v5 : Ljava/lang/String;
	new-instance	v6,java/lang/StringBuilder
; v6 : Ljava/lang/StringBuilder;
	invoke-direct	{v6},java/lang/StringBuilder/<init>	; <init>()V
; v6 : Ljava/lang/StringBuilder;
	const-string	v7,"Download finished with status "
; v7 : Ljava/lang/String;
l5d976:
	invoke-virtual	{v6,v7},java/lang/StringBuilder/append	; append(Ljava/lang/String;)Ljava/lang/StringBuilder;
; v6 : Ljava/lang/StringBuilder; , v7 : Ljava/lang/String;
	move-result-object	v6
; v6 : Ljava/lang/StringBuilder;
	move-object/from16	v0,v28
; v0 : Lcom/google/android/gm/downloadprovider/Downloads$StatusInfo; , v28 : Lcom/google/android/gm/downloadprovider/Downloads$StatusInfo;
	iget	v0,v0,com/google/android/gm/downloadprovider/Downloads$StatusInfo.statusCode I
; v0 : single-length , v0 : single-length
	move	v7,v0
; v7 : single-length , v0 : single-length
	invoke-virtual	{v6,v7},java/lang/StringBuilder/append	; append(I)Ljava/lang/StringBuilder;
; v6 : Ljava/lang/StringBuilder; , v7 : single-length
	move-result-object	v6
; v6 : Ljava/lang/StringBuilder;
	const-string	v7," for download "
; v7 : Ljava/lang/String;
	invoke-virtual	{v6,v7},java/lang/StringBuilder/append	; append(Ljava/lang/String;)Ljava/lang/StringBuilder;
; v6 : Ljava/lang/StringBuilder; , v7 : Ljava/lang/String;
	move-result-object	v6
; v6 : Ljava/lang/StringBuilder;
	move-object	v0,v6
; v0 : Ljava/lang/StringBuilder; , v6 : Ljava/lang/StringBuilder;
	move-wide/from16	v1,v26
; v1 : double-length , v26 : double-length
	invoke-virtual	{v0,v1,v2},java/lang/StringBuilder/append	; append(J)Ljava/lang/StringBuilder;
; v0 : Ljava/lang/StringBuilder; , v1 : double-length
	move-result-object	v6
; v6 : Ljava/lang/StringBuilder;
	const-string	v7," and downloadedRendition "
; v7 : Ljava/lang/String;
	invoke-virtual	{v6,v7},java/lang/StringBuilder/append	; append(Ljava/lang/String;)Ljava/lang/StringBuilder;
; v6 : Ljava/lang/StringBuilder; , v7 : Ljava/lang/String;
	move-result-object	v6
; v6 : Ljava/lang/StringBuilder;
	move-object	v0,v6
; v0 : Ljava/lang/StringBuilder; , v6 : Ljava/lang/StringBuilder;
	move-object/from16	v1,v20
; v1 : Lcom/google/android/gm/provider/Gmail$AttachmentRendition; , v20 : Lcom/google/android/gm/provider/Gmail$AttachmentRendition;
	invoke-virtual	{v0,v1},java/lang/StringBuilder/append	; append(Ljava/lang/Object;)Ljava/lang/StringBuilder;
; v0 : Ljava/lang/StringBuilder; , v1 : Lcom/google/android/gm/provider/Gmail$AttachmentRendition;
	move-result-object	v6
; v6 : Ljava/lang/StringBuilder;
	const-string	v7,". "
; v7 : Ljava/lang/String;
	invoke-virtual	{v6,v7},java/lang/StringBuilder/append	; append(Ljava/lang/String;)Ljava/lang/StringBuilder;
; v6 : Ljava/lang/StringBuilder; , v7 : Ljava/lang/String;
	move-result-object	v6
; v6 : Ljava/lang/StringBuilder;
	move-object	v0,v6
; v0 : Ljava/lang/StringBuilder; , v6 : Ljava/lang/StringBuilder;
	move-object/from16	v1,v23
; v1 : Ljava/lang/String; , v23 : Ljava/lang/String;
	invoke-virtual	{v0,v1},java/lang/StringBuilder/append	; append(Ljava/lang/String;)Ljava/lang/StringBuilder;
; v0 : Ljava/lang/StringBuilder; , v1 : Ljava/lang/String;
	move-result-object	v6
; v6 : Ljava/lang/StringBuilder;
	invoke-virtual	{v6},java/lang/StringBuilder/toString	; toString()Ljava/lang/String;
; v6 : Ljava/lang/StringBuilder;
	move-result-object	v6
; v6 : Ljava/lang/String;
	invoke-static	{v5,v6},android/util/Log/d	; d(Ljava/lang/String;Ljava/lang/String;)I
; v5 : Ljava/lang/String; , v6 : Ljava/lang/String;
l5d9ec:
.line 634
	move-object/from16	v0,v28
; v0 : Lcom/google/android/gm/downloadprovider/Downloads$StatusInfo; , v28 : Lcom/google/android/gm/downloadprovider/Downloads$StatusInfo;
	iget	v0,v0,com/google/android/gm/downloadprovider/Downloads$StatusInfo.statusCode I
; v0 : single-length , v0 : single-length
	move	v5,v0
; v5 : single-length , v0 : single-length
	const/16	v6,406
; v6 : single-length
	if-ne	v5,v6,l5db6a
; v5 : single-length , v6 : single-length
	sget-object	v5,com/google/android/gm/provider/Gmail$AttachmentRendition.BEST Lcom/google/android/gm/provider/Gmail$AttachmentRendition;
; v5 : Lcom/google/android/gm/provider/Gmail$AttachmentRendition;
	if-ne	v14,v5,l5db6a
; v14 : Lcom/google/android/gm/provider/Gmail$AttachmentRendition; , v5 : Lcom/google/android/gm/provider/Gmail$AttachmentRendition;
	sget-object	v5,com/google/android/gm/provider/Gmail$AttachmentRendition.BEST Lcom/google/android/gm/provider/Gmail$AttachmentRendition;
; v5 : Lcom/google/android/gm/provider/Gmail$AttachmentRendition;
	move-object/from16	v0,v20
; v0 : Lcom/google/android/gm/provider/Gmail$AttachmentRendition; , v20 : Lcom/google/android/gm/provider/Gmail$AttachmentRendition;
	move-object	v1,v5
; v1 : Lcom/google/android/gm/provider/Gmail$AttachmentRendition; , v5 : Lcom/google/android/gm/provider/Gmail$AttachmentRendition;
	if-ne	v0,v1,l5db6a
; v0 : Lcom/google/android/gm/provider/Gmail$AttachmentRendition; , v1 : Lcom/google/android/gm/provider/Gmail$AttachmentRendition;
.line 637
	move-object/from16	v0,v25
; v0 : Lcom/google/android/gm/provider/AttachmentManager; , v25 : Lcom/google/android/gm/provider/AttachmentManager;
	iget-object	v0,v0,com/google/android/gm/provider/AttachmentManager.mContext Landroid/content/Context;
; v0 : Landroid/content/Context; , v0 : Landroid/content/Context;
	move-object	v5,v0
; v5 : Landroid/content/Context; , v0 : Landroid/content/Context;
	move-object	v0,v5
; v0 : Landroid/content/Context; , v5 : Landroid/content/Context;
	move-wide/from16	v1,v26
; v1 : double-length , v26 : double-length
	invoke-static	{v0,v1,v2},com/google/android/gm/downloadprovider/Downloads$ById/deleteDownload	; deleteDownload(Landroid/content/Context;J)V
; v0 : Landroid/content/Context; , v1 : double-length
.line 638
	sget-object	v21,com/google/android/gm/provider/Gmail$AttachmentRendition.SIMPLE Lcom/google/android/gm/provider/Gmail$AttachmentRendition;
; v21 : Lcom/google/android/gm/provider/Gmail$AttachmentRendition;
.line 641
	new-instance	v24,android/content/ContentValues
; v24 : Landroid/content/ContentValues;
	invoke-direct/range	{v24},android/content/ContentValues/<init>;	<init>()V
; v24 : Landroid/content/ContentValues;
.line 642
	const-string	v5,"downloadedRendition"
; v5 : Ljava/lang/String;
	sget-object	v6,com/google/android/gm/provider/Gmail$AttachmentRendition.SIMPLE Lcom/google/android/gm/provider/Gmail$AttachmentRendition;
; v6 : Lcom/google/android/gm/provider/Gmail$AttachmentRendition;
	invoke-virtual	{v6},com/google/android/gm/provider/Gmail$AttachmentRendition/toString	; toString()Ljava/lang/String;
; v6 : Lcom/google/android/gm/provider/Gmail$AttachmentRendition;
	move-result-object	v6
; v6 : Ljava/lang/String;
	move-object/from16	v0,v24
; v0 : Landroid/content/ContentValues; , v24 : Landroid/content/ContentValues;
	move-object	v1,v5
; v1 : Ljava/lang/String; , v5 : Ljava/lang/String;
	move-object	v2,v6
; v2 : Ljava/lang/String; , v6 : Ljava/lang/String;
	invoke-virtual	{v0,v1,v2},android/content/ContentValues/put	; put(Ljava/lang/String;Ljava/lang/String;)V
; v0 : Landroid/content/ContentValues; , v1 : Ljava/lang/String; , v2 : Ljava/lang/String;
.line 643
	const-string	v5,"downloadId"
; v5 : Ljava/lang/String;
	const/4	v6,0
; v6 : single-length
	invoke-static	{v6},java/lang/Integer/valueOf	; valueOf(I)Ljava/lang/Integer;
; v6 : single-length
	move-result-object	v6
; v6 : Ljava/lang/Integer;
	move-object/from16	v0,v24
; v0 : Landroid/content/ContentValues; , v24 : Landroid/content/ContentValues;
	move-object	v1,v5
; v1 : Ljava/lang/String; , v5 : Ljava/lang/String;
	move-object	v2,v6
; v2 : Ljava/lang/Integer; , v6 : Ljava/lang/Integer;
	invoke-virtual	{v0,v1,v2},android/content/ContentValues/put	; put(Ljava/lang/String;Ljava/lang/Integer;)V
; v0 : Landroid/content/ContentValues; , v1 : Ljava/lang/String; , v2 : Ljava/lang/Integer;
.line 644
	const-string	v5,"status"
; v5 : Ljava/lang/String;
	const/16	v6,190
; v6 : single-length
	invoke-static	{v6},java/lang/Integer/valueOf	; valueOf(I)Ljava/lang/Integer;
; v6 : single-length
	move-result-object	v6
; v6 : Ljava/lang/Integer;
	move-object/from16	v0,v24
; v0 : Landroid/content/ContentValues; , v24 : Landroid/content/ContentValues;
	move-object	v1,v5
; v1 : Ljava/lang/String; , v5 : Ljava/lang/String;
	move-object	v2,v6
; v2 : Ljava/lang/Integer; , v6 : Ljava/lang/Integer;
	invoke-virtual	{v0,v1,v2},android/content/ContentValues/put	; put(Ljava/lang/String;Ljava/lang/Integer;)V
; v0 : Landroid/content/ContentValues; , v1 : Ljava/lang/String; , v2 : Ljava/lang/Integer;
.line 645
	move-object/from16	v0,v25
; v0 : Lcom/google/android/gm/provider/AttachmentManager; , v25 : Lcom/google/android/gm/provider/AttachmentManager;
	iget-object	v0,v0,com/google/android/gm/provider/AttachmentManager.mDb Landroid/database/sqlite/SQLiteDatabase;
; v0 : Landroid/database/sqlite/SQLiteDatabase; , v0 : Landroid/database/sqlite/SQLiteDatabase;
	move-object	v5,v0
; v5 : Landroid/database/sqlite/SQLiteDatabase; , v0 : Landroid/database/sqlite/SQLiteDatabase;
	const-string	v6,"attachments"
; v6 : Ljava/lang/String;
	const-string	v7,"_id = ?"
; v7 : Ljava/lang/String;
	const/4	v8,1
; v8 : single-length
	new-array	v8,v8,[Ljava/lang/String;
; v8 : [Ljava/lang/String; , v8 : [Ljava/lang/String;
	const/16	v16,0
; v16 : single-length
	invoke-static/range	{v18..v19},java/lang/Long/toString;	toString(J)Ljava/lang/String;
; v18 : double-length
	move-result-object	v18
; v18 : Ljava/lang/String;
l5dab4:
	aput-object	v18,v8,v16
; v18 : Ljava/lang/String; , v8 : [Ljava/lang/String; , v16 : single-length
	move-object	v0,v5
; v0 : Landroid/database/sqlite/SQLiteDatabase; , v5 : Landroid/database/sqlite/SQLiteDatabase;
	move-object	v1,v6
; v1 : Ljava/lang/String; , v6 : Ljava/lang/String;
	move-object/from16	v2,v24
; v2 : Landroid/content/ContentValues; , v24 : Landroid/content/ContentValues;
	move-object	v3,v7
; v3 : Ljava/lang/String; , v7 : Ljava/lang/String;
	move-object	v4,v8
; v4 : [Ljava/lang/String; , v8 : [Ljava/lang/String;
	invoke-virtual	{v0,v1,v2,v3,v4},android/database/sqlite/SQLiteDatabase/update	; update(Ljava/lang/String;Landroid/content/ContentValues;Ljava/lang/String;[Ljava/lang/String;)I
; v0 : Landroid/database/sqlite/SQLiteDatabase; , v1 : Ljava/lang/String; , v2 : Landroid/content/ContentValues; , v3 : Ljava/lang/String; , v4 : [Ljava/lang/String;
.line 648
	const-string	v5,"Gmail"
; v5 : Ljava/lang/String;
	const/4	v6,2
; v6 : single-length
	invoke-static	{v5,v6},android/util/Log/isLoggable	; isLoggable(Ljava/lang/String;I)Z
; v5 : Ljava/lang/String; , v6 : single-length
	move-result	v5
; v5 : single-length
	if-eqz	v5,l5db38
; v5 : single-length
	move-object/from16	v8,v25
; v8 : Lcom/google/android/gm/provider/AttachmentManager; , v25 : Lcom/google/android/gm/provider/AttachmentManager;
.line 649
	invoke-direct/range	{v8..v15},com/google/android/gm/provider/AttachmentManager/requestDescription;	requestDescription(JJLjava/lang/String;Lcom/google/android/gm/provider/Gmail$AttachmentRendition;Z)Ljava/lang/String;
; v8 : Lcom/google/android/gm/provider/AttachmentManager; , v9 : double-length , v11 : double-length , v13 : Ljava/lang/String; , v14 : Lcom/google/android/gm/provider/Gmail$AttachmentRendition; , v15 : single-length
	move-result-object	v22
; v22 : Ljava/lang/String;
.line 651
	const-string	v5,"Gmail"
; v5 : Ljava/lang/String;
	new-instance	v6,java/lang/StringBuilder
; v6 : Ljava/lang/StringBuilder;
	invoke-direct	{v6},java/lang/StringBuilder/<init>	; <init>()V
; v6 : Ljava/lang/StringBuilder;
	const-string	v7,"Retrying download with new downloadedRendition "
; v7 : Ljava/lang/String;
	invoke-virtual	{v6,v7},java/lang/StringBuilder/append	; append(Ljava/lang/String;)Ljava/lang/StringBuilder;
; v6 : Ljava/lang/StringBuilder; , v7 : Ljava/lang/String;
	move-result-object	v6
; v6 : Ljava/lang/StringBuilder;
	move-object	v0,v6
; v0 : Ljava/lang/StringBuilder; , v6 : Ljava/lang/StringBuilder;
	move-object/from16	v1,v21
; v1 : Lcom/google/android/gm/provider/Gmail$AttachmentRendition; , v21 : Lcom/google/android/gm/provider/Gmail$AttachmentRendition;
	invoke-virtual	{v0,v1},java/lang/StringBuilder/append	; append(Ljava/lang/Object;)Ljava/lang/StringBuilder;
; v0 : Ljava/lang/StringBuilder; , v1 : Lcom/google/android/gm/provider/Gmail$AttachmentRendition;
	move-result-object	v6
; v6 : Ljava/lang/StringBuilder;
	const-string	v7,". "
; v7 : Ljava/lang/String;
	invoke-virtual	{v6,v7},java/lang/StringBuilder/append	; append(Ljava/lang/String;)Ljava/lang/StringBuilder;
; v6 : Ljava/lang/StringBuilder; , v7 : Ljava/lang/String;
	move-result-object	v6
; v6 : Ljava/lang/StringBuilder;
	move-object	v0,v6
; v0 : Ljava/lang/StringBuilder; , v6 : Ljava/lang/StringBuilder;
	move-object/from16	v1,v22
; v1 : Ljava/lang/String; , v22 : Ljava/lang/String;
	invoke-virtual	{v0,v1},java/lang/StringBuilder/append	; append(Ljava/lang/String;)Ljava/lang/StringBuilder;
; v0 : Ljava/lang/StringBuilder; , v1 : Ljava/lang/String;
	move-result-object	v6
; v6 : Ljava/lang/StringBuilder;
	invoke-virtual	{v6},java/lang/StringBuilder/toString	; toString()Ljava/lang/String;
; v6 : Ljava/lang/StringBuilder;
	move-result-object	v6
; v6 : Ljava/lang/String;
	invoke-static	{v5,v6},android/util/Log/d	; d(Ljava/lang/String;Ljava/lang/String;)I
; v5 : Ljava/lang/String; , v6 : Ljava/lang/String;
l5db38:
.line 664
	invoke-interface/range	{v17},android/database/Cursor/close;	close()V
; v17 : Landroid/database/Cursor;
.line 667
	move-object/from16	v0,v25
; v0 : Lcom/google/android/gm/provider/AttachmentManager; , v25 : Lcom/google/android/gm/provider/AttachmentManager;
	iget-object	v0,v0,com/google/android/gm/provider/AttachmentManager.mRestrictedMailEngine Lcom/google/android/gm/provider/AttachmentManager$RestrictedMailEngine;
; v0 : Lcom/google/android/gm/provider/AttachmentManager$RestrictedMailEngine; , v0 : Lcom/google/android/gm/provider/AttachmentManager$RestrictedMailEngine;
	move-object	v5,v0
; v5 : Lcom/google/android/gm/provider/AttachmentManager$RestrictedMailEngine; , v0 : Lcom/google/android/gm/provider/AttachmentManager$RestrictedMailEngine;
	new-instance	v6,com/google/android/gm/provider/AttachmentManager$4
; v6 : Lcom/google/android/gm/provider/AttachmentManager$4;
	move-object	v0,v6
; v0 : Lcom/google/android/gm/provider/AttachmentManager$4; , v6 : Lcom/google/android/gm/provider/AttachmentManager$4;
	move-object/from16	v1,v25
; v1 : Lcom/google/android/gm/provider/AttachmentManager; , v25 : Lcom/google/android/gm/provider/AttachmentManager;
	invoke-direct	{v0,v1},com/google/android/gm/provider/AttachmentManager$4/<init>	; <init>(Lcom/google/android/gm/provider/AttachmentManager;)V
; v0 : Lcom/google/android/gm/provider/AttachmentManager$4; , v1 : Lcom/google/android/gm/provider/AttachmentManager;
	invoke-interface	{v5,v6},com/google/android/gm/provider/AttachmentManager$RestrictedMailEngine/postBackgroundTask	; postBackgroundTask(Ljava/lang/Runnable;)V
; v5 : Lcom/google/android/gm/provider/AttachmentManager$RestrictedMailEngine; , v6 : Lcom/google/android/gm/provider/AttachmentManager$4;
	goto/16	l5d8bc
l5db62:
.line 622
	const/4	v5,0
; v5 : single-length
	move	v15,v5
; v15 : single-length , v5 : single-length
	goto/16	l5d946
l5db6a:
.line 655
	const-string	v5,"Gmail"
; v5 : Ljava/lang/String;
	const/4	v6,2
; v6 : single-length
	invoke-static	{v5,v6},android/util/Log/isLoggable	; isLoggable(Ljava/lang/String;I)Z
; v5 : Ljava/lang/String; , v6 : single-length
	move-result	v5
; v5 : single-length
	if-eqz	v5,l5dbd0
; v5 : single-length
.line 656
	const-string	v5,"Gmail"
; v5 : Ljava/lang/String;
	new-instance	v6,java/lang/StringBuilder
; v6 : Ljava/lang/StringBuilder;
	invoke-direct	{v6},java/lang/StringBuilder/<init>	; <init>()V
; v6 : Ljava/lang/StringBuilder;
	const-string	v7,"Download finished with status "
; v7 : Ljava/lang/String;
	invoke-virtual	{v6,v7},java/lang/StringBuilder/append	; append(Ljava/lang/String;)Ljava/lang/StringBuilder;
; v6 : Ljava/lang/StringBuilder; , v7 : Ljava/lang/String;
	move-result-object	v6
; v6 : Ljava/lang/StringBuilder;
	move-object/from16	v0,v28
; v0 : Lcom/google/android/gm/downloadprovider/Downloads$StatusInfo; , v28 : Lcom/google/android/gm/downloadprovider/Downloads$StatusInfo;
	iget	v0,v0,com/google/android/gm/downloadprovider/Downloads$StatusInfo.statusCode I
; v0 : single-length , v0 : single-length
	move	v7,v0
; v7 : single-length , v0 : single-length
	invoke-virtual	{v6,v7},java/lang/StringBuilder/append	; append(I)Ljava/lang/StringBuilder;
; v6 : Ljava/lang/StringBuilder; , v7 : single-length
	move-result-object	v6
; v6 : Ljava/lang/StringBuilder;
	const-string	v7,": "
; v7 : Ljava/lang/String;
	invoke-virtual	{v6,v7},java/lang/StringBuilder/append	; append(Ljava/lang/String;)Ljava/lang/StringBuilder;
; v6 : Ljava/lang/StringBuilder; , v7 : Ljava/lang/String;
	move-result-object	v6
; v6 : Ljava/lang/StringBuilder;
	move-object	v0,v6
; v0 : Ljava/lang/StringBuilder; , v6 : Ljava/lang/StringBuilder;
	move-object/from16	v1,v23
; v1 : Ljava/lang/String; , v23 : Ljava/lang/String;
	invoke-virtual	{v0,v1},java/lang/StringBuilder/append	; append(Ljava/lang/String;)Ljava/lang/StringBuilder;
; v0 : Ljava/lang/StringBuilder; , v1 : Ljava/lang/String;
	move-result-object	v6
; v6 : Ljava/lang/StringBuilder;
	invoke-virtual	{v6},java/lang/StringBuilder/toString	; toString()Ljava/lang/String;
; v6 : Ljava/lang/StringBuilder;
	move-result-object	v6
; v6 : Ljava/lang/String;
	invoke-static	{v5,v6},android/util/Log/d	; d(Ljava/lang/String;Ljava/lang/String;)I
; v5 : Ljava/lang/String; , v6 : Ljava/lang/String;
l5dbd0:
	move-object/from16	v8,v25
; v8 : Lcom/google/android/gm/provider/AttachmentManager; , v25 : Lcom/google/android/gm/provider/AttachmentManager;
	move-object/from16	v16,v28
; v16 : Lcom/google/android/gm/downloadprovider/Downloads$StatusInfo; , v28 : Lcom/google/android/gm/downloadprovider/Downloads$StatusInfo;
.line 660
	invoke-direct/range	{v8..v16},com/google/android/gm/provider/AttachmentManager/onAttachmentDownloadFinished;	onAttachmentDownloadFinished(JJLjava/lang/String;Lcom/google/android/gm/provider/Gmail$AttachmentRendition;ZLcom/google/android/gm/downloadprovider/Downloads$StatusInfo;)V
; v8 : Lcom/google/android/gm/provider/AttachmentManager; , v9 : double-length , v11 : double-length , v13 : Ljava/lang/String; , v14 : Lcom/google/android/gm/provider/Gmail$AttachmentRendition; , v15 : single-length , v16 : Lcom/google/android/gm/downloadprovider/Downloads$StatusInfo;
l5dbde:
	goto	l5db38
l5dbe0:
.line 664
	move-exception	v5
; v5 : java/lang/Exception
	invoke-interface/range	{v17},android/database/Cursor/close;	close()V
; v17 : Landroid/database/Cursor;
	throw	v5
; v5 : java/lang/Exception
.end method

.method public openAttachment(JJLcom/google/android/gm/provider/Gmail$Attachment;Lcom/google/android/gm/provider/Gmail$AttachmentRendition;ZLjava/lang/String;)Landroid/os/ParcelFileDescriptor;
.throws Ljava/io/FileNotFoundException;
.limit registers 28
; this: v19 (Lcom/google/android/gm/provider/AttachmentManager;)
; parameter[0] : v20 (J)
; parameter[1] : v22 (J)
; parameter[2] : v24 (Lcom/google/android/gm/provider/Gmail$Attachment;)
; parameter[3] : v25 (Lcom/google/android/gm/provider/Gmail$AttachmentRendition;)
; parameter[4] : v26 (Z)
; parameter[5] : v27 (Ljava/lang/String;)
.catch java/lang/Exception from l5dd88 to l5ddc0 using l5dcf0
.catch java/lang/Exception from l5dd74 to l5dd7a using l5dcf0
.catch java/lang/Exception from l5dd10 to l5dd72 using l5dd86
.catch java/lang/Exception from l5dd00 to l5dd0e using l5dcf0
.catch java/lang/Exception from l5dc9c to l5dcf0 using l5dcf0
.var 15 is description Ljava/lang/String; from l5dc50 to l5dc80
.var 18 is status I from l5dcd4 to l5dcf0
.var 12 is binderToken J from l5dd10 to l5dd90
.var 16 is downloadId J from l5dd08 to l5dd90
.var 18 is status I from l5dcfe to l5dd90
.line 415
	const-string	v4,"Gmail"
; v4 : Ljava/lang/String;
	const/4	v5,3
; v5 : single-length
	invoke-static	{v4,v5},android/util/Log/isLoggable	; isLoggable(Ljava/lang/String;I)Z
; v4 : Ljava/lang/String; , v5 : single-length
	move-result	v4
; v4 : single-length
	if-eqz	v4,l5dc80
; v4 : single-length
.line 416
	move-object/from16	v0,v24
; v0 : Lcom/google/android/gm/provider/Gmail$Attachment; , v24 : Lcom/google/android/gm/provider/Gmail$Attachment;
	iget-object	v0,v0,com/google/android/gm/provider/Gmail$Attachment.partId Ljava/lang/String;
; v0 : Ljava/lang/String; , v0 : Ljava/lang/String;
	move-object	v9,v0
; v9 : Ljava/lang/String; , v0 : Ljava/lang/String;
	move-object/from16	v4,v19
; v4 : Lcom/google/android/gm/provider/AttachmentManager; , v19 : Lcom/google/android/gm/provider/AttachmentManager;
	move-wide/from16	v5,v20
; v5 : double-length , v20 : double-length
	move-wide/from16	v7,v22
; v7 : double-length , v22 : double-length
	move-object/from16	v10,v25
; v10 : Lcom/google/android/gm/provider/Gmail$AttachmentRendition; , v25 : Lcom/google/android/gm/provider/Gmail$AttachmentRendition;
	move/from16	v11,v26
; v11 : single-length , v26 : single-length
	invoke-direct/range	{v4..v11},com/google/android/gm/provider/AttachmentManager/requestDescription;	requestDescription(JJLjava/lang/String;Lcom/google/android/gm/provider/Gmail$AttachmentRendition;Z)Ljava/lang/String;
; v4 : Lcom/google/android/gm/provider/AttachmentManager; , v5 : double-length , v7 : double-length , v9 : Ljava/lang/String; , v10 : Lcom/google/android/gm/provider/Gmail$AttachmentRendition; , v11 : single-length
	move-result-object	v15
; v15 : Ljava/lang/String;
.line 418
	const-string	v4,"Gmail"
; v4 : Ljava/lang/String;
	new-instance	v5,java/lang/StringBuilder
; v5 : Ljava/lang/StringBuilder;
	invoke-direct	{v5},java/lang/StringBuilder/<init>	; <init>()V
; v5 : Ljava/lang/StringBuilder;
	const-string	v6,"AttachmentManager.openAttachment: "
; v6 : Ljava/lang/String;
	invoke-virtual	{v5,v6},java/lang/StringBuilder/append	; append(Ljava/lang/String;)Ljava/lang/StringBuilder;
; v5 : Ljava/lang/StringBuilder; , v6 : Ljava/lang/String;
	move-result-object	v5
; v5 : Ljava/lang/StringBuilder;
	invoke-virtual	{v5,v15},java/lang/StringBuilder/append	; append(Ljava/lang/String;)Ljava/lang/StringBuilder;
; v5 : Ljava/lang/StringBuilder; , v15 : Ljava/lang/String;
	move-result-object	v5
; v5 : Ljava/lang/StringBuilder;
	invoke-virtual	{v5},java/lang/StringBuilder/toString	; toString()Ljava/lang/String;
; v5 : Ljava/lang/StringBuilder;
	move-result-object	v5
; v5 : Ljava/lang/String;
	invoke-static	{v4,v5},android/util/Log/d	; d(Ljava/lang/String;Ljava/lang/String;)I
; v4 : Ljava/lang/String; , v5 : Ljava/lang/String;
l5dc80:
.line 420
	const/4	v4,2
; v4 : single-length
	new-array	v10,v4,[Ljava/lang/String;
; v10 : [Ljava/lang/String; , v4 : single-length
	const/4	v4,0
; v4 : single-length
	const-string	v5,"downloadId"
; v5 : Ljava/lang/String;
	aput-object	v5,v10,v4
; v5 : Ljava/lang/String; , v10 : [Ljava/lang/String; , v4 : single-length
	const/4	v4,1
; v4 : single-length
	const-string	v5,"status"
; v5 : Ljava/lang/String;
	aput-object	v5,v10,v4
; v5 : Ljava/lang/String; , v10 : [Ljava/lang/String; , v4 : single-length
.line 421
	const/4	v14,0
; v14 : single-length
l5dc9c:
.line 424
	move-object/from16	v0,v24
; v0 : Lcom/google/android/gm/provider/Gmail$Attachment; , v24 : Lcom/google/android/gm/provider/Gmail$Attachment;
	iget-object	v0,v0,com/google/android/gm/provider/Gmail$Attachment.partId Ljava/lang/String;
; v0 : Ljava/lang/String; , v0 : Ljava/lang/String;
	move-object	v7,v0
; v7 : Ljava/lang/String; , v0 : Ljava/lang/String;
	move-object/from16	v4,v19
; v4 : Lcom/google/android/gm/provider/AttachmentManager; , v19 : Lcom/google/android/gm/provider/AttachmentManager;
	move-wide/from16	v5,v22
; v5 : double-length , v22 : double-length
	move-object/from16	v8,v25
; v8 : Lcom/google/android/gm/provider/Gmail$AttachmentRendition; , v25 : Lcom/google/android/gm/provider/Gmail$AttachmentRendition;
	move/from16	v9,v26
; v9 : single-length , v26 : single-length
	invoke-direct/range	{v4..v10},com/google/android/gm/provider/AttachmentManager/newAttachmentCursor;	newAttachmentCursor(JLjava/lang/String;Lcom/google/android/gm/provider/Gmail$AttachmentRendition;Z[Ljava/lang/String;)Landroid/database/Cursor;
; v4 : Lcom/google/android/gm/provider/AttachmentManager; , v5 : double-length , v7 : Ljava/lang/String; , v8 : Lcom/google/android/gm/provider/Gmail$AttachmentRendition; , v9 : single-length , v10 : [Ljava/lang/String;
	move-result-object	v14
; v14 : Landroid/database/Cursor;
.line 426
	invoke-interface	{v14},android/database/Cursor/moveToNext	; moveToNext()Z
; v14 : Landroid/database/Cursor;
	move-result	v4
; v4 : single-length
	if-eqz	v4,l5dd90
; v4 : single-length
.line 427
	const/4	v4,1
; v4 : single-length
	invoke-interface	{v14,v4},android/database/Cursor/getInt	; getInt(I)I
; v14 : Landroid/database/Cursor; , v4 : single-length
	move-result	v18
; v18 : single-length
.line 428
	invoke-static/range	{v18},com/google/android/gm/downloadprovider/Downloads/isStatusSuccess;	isStatusSuccess(I)Z
; v18 : single-length
	move-result	v4
; v4 : single-length
	if-nez	v4,l5dcfe
; v4 : single-length
.line 429
	new-instance	v4,java/io/FileNotFoundException
; v4 : Ljava/io/FileNotFoundException;
	const-string	v5,"Download not complete or not successful"
; v5 : Ljava/lang/String;
	invoke-direct	{v4,v5},java/io/FileNotFoundException/<init>	; <init>(Ljava/lang/String;)V
; v4 : Ljava/io/FileNotFoundException; , v5 : Ljava/lang/String;
	throw	v4
; v4 : Ljava/io/FileNotFoundException;
l5dcf0:
.line 452
	move-exception	v4
; v4 : java/lang/Exception
	if-eqz	v14,l5dcfc
; v14 : Landroid/database/Cursor;
.line 453
	invoke-interface	{v14},android/database/Cursor/close	; close()V
; v14 : Landroid/database/Cursor;
l5dcfc:
.line 452
	throw	v4
; v4 : java/lang/Exception
l5dcfe:
.line 432
	const/4	v4,0
; v4 : single-length
l5dd00:
	invoke-interface	{v14,v4},android/database/Cursor/getLong	; getLong(I)J
; v14 : Landroid/database/Cursor; , v4 : single-length
	move-result-wide	v16
; v16 : double-length
.line 435
	invoke-static	{},android/os/Binder/clearCallingIdentity	; clearCallingIdentity()J
; 
	nop	
l5dd0e:
	move-result-wide	v12
; v12 : double-length
l5dd10:
.line 437
	const-string	v4,"Gmail"
; v4 : Ljava/lang/String;
	const/4	v5,3
; v5 : single-length
	invoke-static	{v4,v5},android/util/Log/isLoggable	; isLoggable(Ljava/lang/String;I)Z
; v4 : Ljava/lang/String; , v5 : single-length
	move-result	v4
; v4 : single-length
	if-eqz	v4,l5dd58
; v4 : single-length
.line 438
	const-string	v4,"Gmail"
; v4 : Ljava/lang/String;
	new-instance	v5,java/lang/StringBuilder
; v5 : Ljava/lang/StringBuilder;
	invoke-direct	{v5},java/lang/StringBuilder/<init>	; <init>()V
; v5 : Ljava/lang/StringBuilder;
	const-string	v6,"Opening downloadId: "
; v6 : Ljava/lang/String;
	invoke-virtual	{v5,v6},java/lang/StringBuilder/append	; append(Ljava/lang/String;)Ljava/lang/StringBuilder;
; v5 : Ljava/lang/StringBuilder; , v6 : Ljava/lang/String;
	move-result-object	v5
; v5 : Ljava/lang/StringBuilder;
	move-object	v0,v5
; v0 : Ljava/lang/StringBuilder; , v5 : Ljava/lang/StringBuilder;
	move-wide/from16	v1,v16
; v1 : double-length , v16 : double-length
	invoke-virtual	{v0,v1,v2},java/lang/StringBuilder/append	; append(J)Ljava/lang/StringBuilder;
; v0 : Ljava/lang/StringBuilder; , v1 : double-length
	move-result-object	v5
; v5 : Ljava/lang/StringBuilder;
	invoke-virtual	{v5},java/lang/StringBuilder/toString	; toString()Ljava/lang/String;
; v5 : Ljava/lang/StringBuilder;
	move-result-object	v5
; v5 : Ljava/lang/String;
	invoke-static	{v4,v5},android/util/Log/d	; d(Ljava/lang/String;Ljava/lang/String;)I
; v4 : Ljava/lang/String; , v5 : Ljava/lang/String;
l5dd58:
.line 440
	move-object/from16	v0,v19
; v0 : Lcom/google/android/gm/provider/AttachmentManager; , v19 : Lcom/google/android/gm/provider/AttachmentManager;
	iget-object	v0,v0,com/google/android/gm/provider/AttachmentManager.mContext Landroid/content/Context;
; v0 : Landroid/content/Context; , v0 : Landroid/content/Context;
	move-object	v4,v0
; v4 : Landroid/content/Context; , v0 : Landroid/content/Context;
	move-object	v0,v4
; v0 : Landroid/content/Context; , v4 : Landroid/content/Context;
	move-wide/from16	v1,v16
; v1 : double-length , v16 : double-length
	move-object/from16	v3,v27
; v3 : Ljava/lang/String; , v27 : Ljava/lang/String;
	invoke-static	{v0,v1,v2,v3},com/google/android/gm/downloadprovider/Downloads$ById/openDownload	; openDownload(Landroid/content/Context;JLjava/lang/String;)Landroid/os/ParcelFileDescriptor;
; v0 : Landroid/content/Context; , v1 : double-length , v3 : Ljava/lang/String;
l5dd72:
	move-result-object	v4
; v4 : Landroid/os/ParcelFileDescriptor;
l5dd74:
.line 442
	invoke-static	{v12,v13},android/os/Binder/restoreCallingIdentity	; restoreCallingIdentity(J)V
; v12 : double-length
l5dd7a:
.line 452
	if-eqz	v14,l5dd84
; v14 : Landroid/database/Cursor;
.line 453
	invoke-interface	{v14},android/database/Cursor/close	; close()V
; v14 : Landroid/database/Cursor;
l5dd84:
.line 440
	return-object	v4
; v4 : Landroid/os/ParcelFileDescriptor;
l5dd86:
.line 442
	move-exception	v4
; v4 : java/lang/Exception
l5dd88:
	invoke-static	{v12,v13},android/os/Binder/restoreCallingIdentity	; restoreCallingIdentity(J)V
; v12 : double-length
	throw	v4
; v4 : java/lang/Exception
l5dd90:
.line 445
	const-string	v4,"Gmail"
; v4 : Ljava/lang/String;
	const/4	v5,3
; v5 : single-length
	invoke-static	{v4,v5},android/util/Log/isLoggable	; isLoggable(Ljava/lang/String;I)Z
; v4 : Ljava/lang/String; , v5 : single-length
	move-result	v4
; v4 : single-length
	if-eqz	v4,l5ddb0
; v4 : single-length
.line 446
	const-string	v4,"Gmail"
; v4 : Ljava/lang/String;
	const-string	v5,"File not found "
; v5 : Ljava/lang/String;
	invoke-static	{v4,v5},android/util/Log/d	; d(Ljava/lang/String;Ljava/lang/String;)I
; v4 : Ljava/lang/String; , v5 : Ljava/lang/String;
l5ddb0:
.line 448
	new-instance	v4,java/io/FileNotFoundException
; v4 : Ljava/io/FileNotFoundException;
	const-string	v5,"Attachment not even requested"
; v5 : Ljava/lang/String;
	invoke-direct	{v4,v5},java/io/FileNotFoundException/<init>	; <init>(Ljava/lang/String;)V
; v4 : Ljava/io/FileNotFoundException; , v5 : Ljava/lang/String;
	throw	v4
; v4 : Ljava/io/FileNotFoundException;
.end method

.method purgeOldAttachments()V
.limit registers 21
; this: v20 (Lcom/google/android/gm/provider/AttachmentManager;)
.catch java/lang/Exception from l5df54 to l5df78 using l5df06
.catch java/lang/Exception from l5df30 to l5df40 using l5df06
.catch java/lang/IllegalArgumentException from l5df20 to l5df30 using l5df52
.catch java/lang/Exception from l5df20 to l5df30 using l5df06
.catch java/lang/Exception from l5df1a to l5df20 using l5df06
.catch java/lang/Exception from l5defe to l5df06 using l5df06
.catch java/lang/Exception from l5deb8 to l5defa using l5defc
.catch java/lang/Exception from l5de56 to l5deb6 using l5df06
.var 11 is attachmentId J from l5dece to l5defc
.var 16 is downloadId J from l5ded8 to l5defc
.var 13 is attachmentIds Ljava/util/ArrayList; from l5de5e to l5df06
.var 15 is cursor Landroid/database/Cursor; from l5deb8 to l5df06
.var 18 is downloadIds Ljava/util/ArrayList; from l5de66 to l5df06
.line 712
	const-string	v3,"Gmail"
; v3 : Ljava/lang/String;
	const/4	v4,3
; v4 : single-length
	invoke-static	{v3,v4},android/util/Log/isLoggable	; isLoggable(Ljava/lang/String;I)Z
; v3 : Ljava/lang/String; , v4 : single-length
	move-result	v3
; v3 : single-length
	if-eqz	v3,l5de20
; v3 : single-length
.line 713
	const-string	v3,"Gmail"
; v3 : Ljava/lang/String;
	const-string	v4,"Purging old attachments"
; v4 : Ljava/lang/String;
	invoke-static	{v3,v4},android/util/Log/d	; d(Ljava/lang/String;Ljava/lang/String;)I
; v3 : Ljava/lang/String; , v4 : Ljava/lang/String;
l5de20:
.line 715
	move-object/from16	v0,v20
; v0 : Lcom/google/android/gm/provider/AttachmentManager; , v20 : Lcom/google/android/gm/provider/AttachmentManager;
	iget-object	v0,v0,com/google/android/gm/provider/AttachmentManager.mDb Landroid/database/sqlite/SQLiteDatabase;
; v0 : Landroid/database/sqlite/SQLiteDatabase; , v0 : Landroid/database/sqlite/SQLiteDatabase;
	move-object	v3,v0
; v3 : Landroid/database/sqlite/SQLiteDatabase; , v0 : Landroid/database/sqlite/SQLiteDatabase;
	invoke-virtual	{v3},android/database/sqlite/SQLiteDatabase/isDbLockedByCurrentThread	; isDbLockedByCurrentThread()Z
; v3 : Landroid/database/sqlite/SQLiteDatabase;
	move-result	v3
; v3 : single-length
	if-eqz	v3,l5de46
; v3 : single-length
.line 718
	new-instance	v3,java/lang/IllegalStateException
; v3 : Ljava/lang/IllegalStateException;
	const-string	v4,"Db should not be locked"
; v4 : Ljava/lang/String;
	invoke-direct	{v3,v4},java/lang/IllegalStateException/<init>	; <init>(Ljava/lang/String;)V
; v3 : Ljava/lang/IllegalStateException; , v4 : Ljava/lang/String;
	throw	v3
; v3 : Ljava/lang/IllegalStateException;
l5de46:
.line 720
	move-object/from16	v0,v20
; v0 : Lcom/google/android/gm/provider/AttachmentManager; , v20 : Lcom/google/android/gm/provider/AttachmentManager;
	iget-object	v0,v0,com/google/android/gm/provider/AttachmentManager.mDb Landroid/database/sqlite/SQLiteDatabase;
; v0 : Landroid/database/sqlite/SQLiteDatabase; , v0 : Landroid/database/sqlite/SQLiteDatabase;
	move-object	v3,v0
; v3 : Landroid/database/sqlite/SQLiteDatabase; , v0 : Landroid/database/sqlite/SQLiteDatabase;
	invoke-virtual	{v3},android/database/sqlite/SQLiteDatabase/beginTransaction	; beginTransaction()V
; v3 : Landroid/database/sqlite/SQLiteDatabase;
l5de56:
.line 722
	invoke-static	{},com/google/common/collect/Lists/newArrayList	; newArrayList()Ljava/util/ArrayList;
; 
	nop	
	move-result-object	v13
; v13 : Ljava/util/ArrayList;
.line 723
	invoke-static	{},com/google/common/collect/Lists/newArrayList	; newArrayList()Ljava/util/ArrayList;
; 
	nop	
	move-result-object	v18
; v18 : Ljava/util/ArrayList;
.line 724
	move-object/from16	v0,v20
; v0 : Lcom/google/android/gm/provider/AttachmentManager; , v20 : Lcom/google/android/gm/provider/AttachmentManager;
	iget-object	v0,v0,com/google/android/gm/provider/AttachmentManager.mDb Landroid/database/sqlite/SQLiteDatabase;
; v0 : Landroid/database/sqlite/SQLiteDatabase; , v0 : Landroid/database/sqlite/SQLiteDatabase;
	move-object	v3,v0
; v3 : Landroid/database/sqlite/SQLiteDatabase; , v0 : Landroid/database/sqlite/SQLiteDatabase;
	const-string	v4,"attachments"
; v4 : Ljava/lang/String;
	const/4	v5,2
; v5 : single-length
	new-array	v5,v5,[Ljava/lang/String;
; v5 : [Ljava/lang/String; , v5 : [Ljava/lang/String;
	const/4	v6,0
; v6 : single-length
	const-string	v7,"_id"
; v7 : Ljava/lang/String;
	aput-object	v7,v5,v6
; v7 : Ljava/lang/String; , v5 : [Ljava/lang/String; , v6 : single-length
	const/4	v6,1
; v6 : single-length
	const-string	v7,"downloadId"
; v7 : Ljava/lang/String;
	aput-object	v7,v5,v6
; v7 : Ljava/lang/String; , v5 : [Ljava/lang/String; , v6 : single-length
	const-string	v6,"(NOT automatic AND (saveToSd OR status != ?)) OR messages_messageId NOT IN (SELECT messageId FROM messages WHERE joinedAttachmentInfos != ''"
; v6 : Ljava/lang/String;
	const/4	v7,1
; v7 : single-length
	new-array	v7,v7,[Ljava/lang/String;
; v7 : [Ljava/lang/String; , v7 : [Ljava/lang/String;
	const/4	v8,0
; v8 : single-length
	const/16	v9,200
; v9 : single-length
	invoke-static	{v9},java/lang/Integer/toString	; toString(I)Ljava/lang/String;
; v9 : single-length
	move-result-object	v9
; v9 : Ljava/lang/String;
	aput-object	v9,v7,v8
; v9 : Ljava/lang/String; , v7 : [Ljava/lang/String; , v8 : single-length
	const/4	v8,0
; v8 : single-length
	const/4	v9,0
; v9 : single-length
	const/4	v10,0
; v10 : single-length
	invoke-virtual/range	{v3..v10},android/database/sqlite/SQLiteDatabase/query;	query(Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)Landroid/database/Cursor;
; v3 : Landroid/database/sqlite/SQLiteDatabase; , v4 : Ljava/lang/String; , v5 : [Ljava/lang/String; , v6 : Ljava/lang/String; , v7 : [Ljava/lang/String; , v8 : single-length , v9 : single-length , v10 : single-length
l5deb6:
	move-result-object	v15
; v15 : Landroid/database/Cursor;
l5deb8:
.line 731
	invoke-interface	{v15},android/database/Cursor/moveToNext	; moveToNext()Z
; v15 : Landroid/database/Cursor;
	move-result	v3
; v3 : single-length
	if-eqz	v3,l5df1a
; v3 : single-length
.line 732
	const/4	v3,0
; v3 : single-length
	invoke-interface	{v15,v3},android/database/Cursor/getLong	; getLong(I)J
; v15 : Landroid/database/Cursor; , v3 : single-length
	move-result-wide	v11
; v11 : double-length
.line 733
	const/4	v3,1
; v3 : single-length
	invoke-interface	{v15,v3},android/database/Cursor/getLong	; getLong(I)J
; v15 : Landroid/database/Cursor; , v3 : single-length
	move-result-wide	v16
; v16 : double-length
.line 734
	invoke-static	{v11,v12},java/lang/Long/valueOf	; valueOf(J)Ljava/lang/Long;
; v11 : double-length
	move-result-object	v3
; v3 : Ljava/lang/Long;
	invoke-virtual	{v13,v3},java/util/ArrayList/add	; add(Ljava/lang/Object;)Z
; v13 : Ljava/util/ArrayList; , v3 : Ljava/lang/Long;
.line 735
	invoke-static/range	{v16..v17},java/lang/Long/valueOf;	valueOf(J)Ljava/lang/Long;
; v16 : double-length
	move-result-object	v3
; v3 : Ljava/lang/Long;
	move-object/from16	v0,v18
; v0 : Ljava/util/ArrayList; , v18 : Ljava/util/ArrayList;
	move-object	v1,v3
; v1 : Ljava/lang/Long; , v3 : Ljava/lang/Long;
	invoke-virtual	{v0,v1},java/util/ArrayList/add	; add(Ljava/lang/Object;)Z
; v0 : Ljava/util/ArrayList; , v1 : Ljava/lang/Long;
l5defa:
	goto	l5deb8
l5defc:
.line 738
	move-exception	v3
; v3 : java/lang/Exception
l5defe:
	invoke-interface	{v15},android/database/Cursor/close	; close()V
; v15 : Landroid/database/Cursor;
	throw	v3
; v3 : java/lang/Exception
l5df06:
.line 756
	move-exception	v3
; v3 : java/lang/Exception
	move-object/from16	v0,v20
; v0 : Lcom/google/android/gm/provider/AttachmentManager; , v20 : Lcom/google/android/gm/provider/AttachmentManager;
	iget-object	v0,v0,com/google/android/gm/provider/AttachmentManager.mDb Landroid/database/sqlite/SQLiteDatabase;
; v0 : Landroid/database/sqlite/SQLiteDatabase; , v0 : Landroid/database/sqlite/SQLiteDatabase;
	move-object	v4,v0
; v4 : Landroid/database/sqlite/SQLiteDatabase; , v0 : Landroid/database/sqlite/SQLiteDatabase;
	invoke-virtual	{v4},android/database/sqlite/SQLiteDatabase/endTransaction	; endTransaction()V
; v4 : Landroid/database/sqlite/SQLiteDatabase;
	throw	v3
; v3 : java/lang/Exception
l5df1a:
.line 738
	invoke-interface	{v15},android/database/Cursor/close	; close()V
; v15 : Landroid/database/Cursor;
l5df20:
.line 741
	move-object/from16	v0,v20
; v0 : Lcom/google/android/gm/provider/AttachmentManager; , v20 : Lcom/google/android/gm/provider/AttachmentManager;
	move-object	v1,v13
; v1 : Ljava/util/ArrayList; , v13 : Ljava/util/ArrayList;
	move-object/from16	v2,v18
; v2 : Ljava/util/ArrayList; , v18 : Ljava/util/ArrayList;
	invoke-direct	{v0,v1,v2},com/google/android/gm/provider/AttachmentManager/deleteAttachmentAndDownloadRequests	; deleteAttachmentAndDownloadRequests(Ljava/util/ArrayList;Ljava/util/ArrayList;)V
; v0 : Lcom/google/android/gm/provider/AttachmentManager; , v1 : Ljava/util/ArrayList; , v2 : Ljava/util/ArrayList;
l5df30:
.line 754
	move-object/from16	v0,v20
; v0 : Lcom/google/android/gm/provider/AttachmentManager; , v20 : Lcom/google/android/gm/provider/AttachmentManager;
	iget-object	v0,v0,com/google/android/gm/provider/AttachmentManager.mDb Landroid/database/sqlite/SQLiteDatabase;
; v0 : Landroid/database/sqlite/SQLiteDatabase; , v0 : Landroid/database/sqlite/SQLiteDatabase;
	move-object	v3,v0
; v3 : Landroid/database/sqlite/SQLiteDatabase; , v0 : Landroid/database/sqlite/SQLiteDatabase;
	invoke-virtual	{v3},android/database/sqlite/SQLiteDatabase/setTransactionSuccessful	; setTransactionSuccessful()V
; v3 : Landroid/database/sqlite/SQLiteDatabase;
l5df40:
.line 756
	move-object/from16	v0,v20
; v0 : Lcom/google/android/gm/provider/AttachmentManager; , v20 : Lcom/google/android/gm/provider/AttachmentManager;
	iget-object	v0,v0,com/google/android/gm/provider/AttachmentManager.mDb Landroid/database/sqlite/SQLiteDatabase;
; v0 : Landroid/database/sqlite/SQLiteDatabase; , v0 : Landroid/database/sqlite/SQLiteDatabase;
	move-object	v3,v0
; v3 : Landroid/database/sqlite/SQLiteDatabase; , v0 : Landroid/database/sqlite/SQLiteDatabase;
	invoke-virtual	{v3},android/database/sqlite/SQLiteDatabase/endTransaction	; endTransaction()V
; v3 : Landroid/database/sqlite/SQLiteDatabase;
.line 758
	return-void	
l5df52:
.line 742
	move-exception	v19
; v19 : java/lang/IllegalArgumentException
l5df54:
.line 749
	move-object/from16	v0,v20
; v0 : Lcom/google/android/gm/provider/AttachmentManager; , v20 : Lcom/google/android/gm/provider/AttachmentManager;
	iget-object	v0,v0,com/google/android/gm/provider/AttachmentManager.mContext Landroid/content/Context;
; v0 : Landroid/content/Context; , v0 : Landroid/content/Context;
	move-object	v3,v0
; v3 : Landroid/content/Context; , v0 : Landroid/content/Context;
	invoke-virtual	{v3},android/content/Context/getContentResolver	; getContentResolver()Landroid/content/ContentResolver;
; v3 : Landroid/content/Context;
	move-result-object	v14
; v14 : Landroid/content/ContentResolver;
.line 750
	sget-object	v3,com/google/android/gm/downloadprovider/Downloads$Impl.CONTENT_URI Landroid/net/Uri;
; v3 : Landroid/net/Uri;
	invoke-virtual	{v14,v3},android/content/ContentResolver/acquireContentProviderClient	; acquireContentProviderClient(Landroid/net/Uri;)Landroid/content/ContentProviderClient;
; v14 : Landroid/content/ContentResolver; , v3 : Landroid/net/Uri;
	move-result-object	v3
; v3 : Landroid/content/ContentProviderClient;
	if-eqz	v3,l5df30
; v3 : Landroid/content/ContentProviderClient;
.line 751
	throw	v19
; v19 : java/lang/IllegalArgumentException
.end method

.method public queryAndStartDownloadingAttachment(JJLcom/google/android/gm/provider/Gmail$Attachment;Lcom/google/android/gm/provider/Gmail$AttachmentRendition;Z[Ljava/lang/String;)Landroid/database/Cursor;
.limit registers 34
; this: v25 (Lcom/google/android/gm/provider/AttachmentManager;)
; parameter[0] : v26 (J)
; parameter[1] : v28 (J)
; parameter[2] : v30 (Lcom/google/android/gm/provider/Gmail$Attachment;)
; parameter[3] : v31 (Lcom/google/android/gm/provider/Gmail$AttachmentRendition;)
; parameter[4] : v32 (Z)
; parameter[5] : v33 ([Ljava/lang/String;)
.catch java/lang/Exception from l5e25a to l5e2ea using l5e24a
.catch java/lang/Exception from l5e11c to l5e246 using l5e24a
.catch java/lang/Exception from l5e08e to l5e0e8 using l5e24a
.var 14 is attachmentId J from l5e0dc to l5e116
.var 23 is publicCursor Landroid/database/Cursor; from l5e114 to l5e116
.var 13 is automatic Z from l5e162 to l5e24a
.var 14 is attachmentId J from l5e12a to l5e24a
.var 17 is downloadId J from l5e13a to l5e24a
.var 19 is mustRefetch Z from l5e11a to l5e24a
.var 20 is newAttachmentId J from l5e238 to l5e24a
.var 24 is status I from l5e14a to l5e24a
.line 274
	move-object/from16	v0,v30
; v0 : Lcom/google/android/gm/provider/Gmail$Attachment; , v30 : Lcom/google/android/gm/provider/Gmail$Attachment;
	iget-object	v0,v0,com/google/android/gm/provider/Gmail$Attachment.partId Ljava/lang/String;
; v0 : Ljava/lang/String; , v0 : Ljava/lang/String;
	move-object	v10,v0
; v10 : Ljava/lang/String; , v0 : Ljava/lang/String;
	move-object/from16	v5,v25
; v5 : Lcom/google/android/gm/provider/AttachmentManager; , v25 : Lcom/google/android/gm/provider/AttachmentManager;
	move-wide/from16	v6,v26
; v6 : double-length , v26 : double-length
	move-wide/from16	v8,v28
; v8 : double-length , v28 : double-length
	move-object/from16	v11,v31
; v11 : Lcom/google/android/gm/provider/Gmail$AttachmentRendition; , v31 : Lcom/google/android/gm/provider/Gmail$AttachmentRendition;
	move/from16	v12,v32
; v12 : single-length , v32 : single-length
	invoke-direct/range	{v5..v12},com/google/android/gm/provider/AttachmentManager/requestDescription;	requestDescription(JJLjava/lang/String;Lcom/google/android/gm/provider/Gmail$AttachmentRendition;Z)Ljava/lang/String;
; v5 : Lcom/google/android/gm/provider/AttachmentManager; , v6 : double-length , v8 : double-length , v10 : Ljava/lang/String; , v11 : Lcom/google/android/gm/provider/Gmail$AttachmentRendition; , v12 : single-length
	move-result-object	v16
; v16 : Ljava/lang/String;
.line 276
	const-string	v5,"Gmail"
; v5 : Ljava/lang/String;
	const/4	v6,2
; v6 : single-length
	invoke-static	{v5,v6},android/util/Log/isLoggable	; isLoggable(Ljava/lang/String;I)Z
; v5 : Ljava/lang/String; , v6 : single-length
	move-result	v5
; v5 : single-length
	if-eqz	v5,l5e03e
; v5 : single-length
.line 277
	const-string	v5,"Gmail"
; v5 : Ljava/lang/String;
	new-instance	v6,java/lang/StringBuilder
; v6 : Ljava/lang/StringBuilder;
	invoke-direct	{v6},java/lang/StringBuilder/<init>	; <init>()V
; v6 : Ljava/lang/StringBuilder;
	const-string	v7,"queryAndStartDownloadingAttachment for "
; v7 : Ljava/lang/String;
	invoke-virtual	{v6,v7},java/lang/StringBuilder/append	; append(Ljava/lang/String;)Ljava/lang/StringBuilder;
; v6 : Ljava/lang/StringBuilder; , v7 : Ljava/lang/String;
	move-result-object	v6
; v6 : Ljava/lang/StringBuilder;
	move-object	v0,v6
; v0 : Ljava/lang/StringBuilder; , v6 : Ljava/lang/StringBuilder;
	move-object/from16	v1,v16
; v1 : Ljava/lang/String; , v16 : Ljava/lang/String;
	invoke-virtual	{v0,v1},java/lang/StringBuilder/append	; append(Ljava/lang/String;)Ljava/lang/StringBuilder;
; v0 : Ljava/lang/StringBuilder; , v1 : Ljava/lang/String;
	move-result-object	v6
; v6 : Ljava/lang/StringBuilder;
	invoke-virtual	{v6},java/lang/StringBuilder/toString	; toString()Ljava/lang/String;
; v6 : Ljava/lang/StringBuilder;
	move-result-object	v6
; v6 : Ljava/lang/String;
	invoke-static	{v5,v6},android/util/Log/d	; d(Ljava/lang/String;Ljava/lang/String;)I
; v5 : Ljava/lang/String; , v6 : Ljava/lang/String;
l5e03e:
.line 279
	move-object/from16	v0,v30
; v0 : Lcom/google/android/gm/provider/Gmail$Attachment; , v30 : Lcom/google/android/gm/provider/Gmail$Attachment;
	iget-object	v0,v0,com/google/android/gm/provider/Gmail$Attachment.partId Ljava/lang/String;
; v0 : Ljava/lang/String; , v0 : Ljava/lang/String;
	move-object	v8,v0
; v8 : Ljava/lang/String; , v0 : Ljava/lang/String;
	const/4	v5,4
; v5 : single-length
	new-array	v11,v5,[Ljava/lang/String;
; v11 : [Ljava/lang/String; , v5 : single-length
	const/4	v5,0
; v5 : single-length
	const-string	v6,"_id"
; v6 : Ljava/lang/String;
	aput-object	v6,v11,v5
; v6 : Ljava/lang/String; , v11 : [Ljava/lang/String; , v5 : single-length
	const/4	v5,1
; v5 : single-length
	const-string	v6,"downloadId"
; v6 : Ljava/lang/String;
	aput-object	v6,v11,v5
; v6 : Ljava/lang/String; , v11 : [Ljava/lang/String; , v5 : single-length
	const/4	v5,2
; v5 : single-length
	const-string	v6,"status"
; v6 : Ljava/lang/String;
	aput-object	v6,v11,v5
; v6 : Ljava/lang/String; , v11 : [Ljava/lang/String; , v5 : single-length
	const/4	v5,3
; v5 : single-length
	const-string	v6,"automatic"
; v6 : Ljava/lang/String;
	aput-object	v6,v11,v5
; v6 : Ljava/lang/String; , v11 : [Ljava/lang/String; , v5 : single-length
	move-object/from16	v5,v25
; v5 : Lcom/google/android/gm/provider/AttachmentManager; , v25 : Lcom/google/android/gm/provider/AttachmentManager;
	move-wide/from16	v6,v28
; v6 : double-length , v28 : double-length
	move-object/from16	v9,v31
; v9 : Lcom/google/android/gm/provider/Gmail$AttachmentRendition; , v31 : Lcom/google/android/gm/provider/Gmail$AttachmentRendition;
	move/from16	v10,v32
; v10 : single-length , v32 : single-length
	invoke-direct/range	{v5..v11},com/google/android/gm/provider/AttachmentManager/newAttachmentCursor;	newAttachmentCursor(JLjava/lang/String;Lcom/google/android/gm/provider/Gmail$AttachmentRendition;Z[Ljava/lang/String;)Landroid/database/Cursor;
; v5 : Lcom/google/android/gm/provider/AttachmentManager; , v6 : double-length , v8 : Ljava/lang/String; , v9 : Lcom/google/android/gm/provider/Gmail$AttachmentRendition; , v10 : single-length , v11 : [Ljava/lang/String;
	move-result-object	v22
; v22 : Landroid/database/Cursor;
l5e08e:
.line 283
	invoke-interface/range	{v22},android/database/Cursor/moveToNext;	moveToNext()Z
; v22 : Landroid/database/Cursor;
	move-result	v5
; v5 : single-length
	if-nez	v5,l5e116
; v5 : single-length
.line 284
	const-string	v5,"Gmail"
; v5 : Ljava/lang/String;
	const/4	v6,2
; v6 : single-length
	invoke-static	{v5,v6},android/util/Log/isLoggable	; isLoggable(Ljava/lang/String;I)Z
; v5 : Ljava/lang/String; , v6 : single-length
	move-result	v5
; v5 : single-length
	if-eqz	v5,l5e0ba
; v5 : single-length
.line 285
	const-string	v5,""
; v5 : Ljava/lang/String;
	const-string	v6,"AttachmentManager.queryAndStartDownloadingAttachment() starting new download"
; v6 : Ljava/lang/String;
	invoke-static	{v5,v6},android/util/Log/v	; v(Ljava/lang/String;Ljava/lang/String;)I
; v5 : Ljava/lang/String; , v6 : Ljava/lang/String;
l5e0ba:
.line 288
	const/4	v13,0
; v13 : single-length
	move-object/from16	v5,v25
; v5 : Lcom/google/android/gm/provider/AttachmentManager; , v25 : Lcom/google/android/gm/provider/AttachmentManager;
	move-wide/from16	v6,v26
; v6 : double-length , v26 : double-length
	move-wide/from16	v8,v28
; v8 : double-length , v28 : double-length
	move-object/from16	v10,v30
; v10 : Lcom/google/android/gm/provider/Gmail$Attachment; , v30 : Lcom/google/android/gm/provider/Gmail$Attachment;
	move-object/from16	v11,v31
; v11 : Lcom/google/android/gm/provider/Gmail$AttachmentRendition; , v31 : Lcom/google/android/gm/provider/Gmail$AttachmentRendition;
	move/from16	v12,v32
; v12 : single-length , v32 : single-length
	invoke-virtual/range	{v5..v13},com/google/android/gm/provider/AttachmentManager/recordAttachmentInDb;	recordAttachmentInDb(JJLcom/google/android/gm/provider/Gmail$Attachment;Lcom/google/android/gm/provider/Gmail$AttachmentRendition;ZZ)J
; v5 : Lcom/google/android/gm/provider/AttachmentManager; , v6 : double-length , v8 : double-length , v10 : Lcom/google/android/gm/provider/Gmail$Attachment; , v11 : Lcom/google/android/gm/provider/Gmail$AttachmentRendition; , v12 : single-length , v13 : single-length
	move-result-wide	v14
; v14 : double-length
.line 293
	move-object/from16	v0,v25
; v0 : Lcom/google/android/gm/provider/AttachmentManager; , v25 : Lcom/google/android/gm/provider/AttachmentManager;
	move-wide	v1,v14
; v1 : double-length , v14 : double-length
	invoke-direct	{v0,v1,v2},com/google/android/gm/provider/AttachmentManager/startAttachmentDownloadInDownloadManager	; startAttachmentDownloadInDownloadManager(J)V
; v0 : Lcom/google/android/gm/provider/AttachmentManager; , v1 : double-length
l5e0e8:
.line 352
	invoke-interface/range	{v22},android/database/Cursor/close;	close()V
; v22 : Landroid/database/Cursor;
.line 355
	move-object/from16	v0,v30
; v0 : Lcom/google/android/gm/provider/Gmail$Attachment; , v30 : Lcom/google/android/gm/provider/Gmail$Attachment;
	iget-object	v0,v0,com/google/android/gm/provider/Gmail$Attachment.partId Ljava/lang/String;
; v0 : Ljava/lang/String; , v0 : Ljava/lang/String;
	move-object	v8,v0
; v8 : Ljava/lang/String; , v0 : Ljava/lang/String;
	move-object/from16	v5,v25
; v5 : Lcom/google/android/gm/provider/AttachmentManager; , v25 : Lcom/google/android/gm/provider/AttachmentManager;
	move-wide/from16	v6,v28
; v6 : double-length , v28 : double-length
	move-object/from16	v9,v31
; v9 : Lcom/google/android/gm/provider/Gmail$AttachmentRendition; , v31 : Lcom/google/android/gm/provider/Gmail$AttachmentRendition;
	move/from16	v10,v32
; v10 : single-length , v32 : single-length
	move-object/from16	v11,v33
; v11 : [Ljava/lang/String; , v33 : [Ljava/lang/String;
	invoke-direct/range	{v5..v11},com/google/android/gm/provider/AttachmentManager/newAttachmentCursor;	newAttachmentCursor(JLjava/lang/String;Lcom/google/android/gm/provider/Gmail$AttachmentRendition;Z[Ljava/lang/String;)Landroid/database/Cursor;
; v5 : Lcom/google/android/gm/provider/AttachmentManager; , v6 : double-length , v8 : Ljava/lang/String; , v9 : Lcom/google/android/gm/provider/Gmail$AttachmentRendition; , v10 : single-length , v11 : [Ljava/lang/String;
	move-result-object	v23
; v23 : Landroid/database/Cursor;
.line 357
	return-object	v23
; v23 : Landroid/database/Cursor;
l5e116:
.line 295
	const/16	v19,0
; v19 : single-length
.line 296
	const/4	v5,0
; v5 : single-length
l5e11c:
	move-object/from16	v0,v22
; v0 : Landroid/database/Cursor; , v22 : Landroid/database/Cursor;
	move	v1,v5
; v1 : single-length , v5 : single-length
	invoke-interface	{v0,v1},android/database/Cursor/getLong	; getLong(I)J
; v0 : Landroid/database/Cursor; , v1 : single-length
	move-result-wide	v14
; v14 : double-length
.line 297
	const/4	v5,1
; v5 : single-length
	move-object/from16	v0,v22
; v0 : Landroid/database/Cursor; , v22 : Landroid/database/Cursor;
	move	v1,v5
; v1 : single-length , v5 : single-length
	invoke-interface	{v0,v1},android/database/Cursor/getLong	; getLong(I)J
; v0 : Landroid/database/Cursor; , v1 : single-length
	move-result-wide	v17
; v17 : double-length
.line 298
	const/4	v5,2
; v5 : single-length
	move-object/from16	v0,v22
; v0 : Landroid/database/Cursor; , v22 : Landroid/database/Cursor;
	move	v1,v5
; v1 : single-length , v5 : single-length
	invoke-interface	{v0,v1},android/database/Cursor/getInt	; getInt(I)I
; v0 : Landroid/database/Cursor; , v1 : single-length
	move-result	v24
; v24 : single-length
.line 299
	const/4	v5,3
; v5 : single-length
	move-object/from16	v0,v22
; v0 : Landroid/database/Cursor; , v22 : Landroid/database/Cursor;
	move	v1,v5
; v1 : single-length , v5 : single-length
	invoke-interface	{v0,v1},android/database/Cursor/getInt	; getInt(I)I
; v0 : Landroid/database/Cursor; , v1 : single-length
	move-result	v5
; v5 : single-length
	if-eqz	v5,l5e254
; v5 : single-length
	const/4	v5,1
; v5 : single-length
	move	v13,v5
; v13 : single-length , v5 : single-length
l5e162:
.line 300
	const-string	v5,"Gmail"
; v5 : Ljava/lang/String;
	const/4	v6,2
; v6 : single-length
	invoke-static	{v5,v6},android/util/Log/isLoggable	; isLoggable(Ljava/lang/String;I)Z
; v5 : Ljava/lang/String; , v6 : single-length
	move-result	v5
; v5 : single-length
	if-eqz	v5,l5e1aa
; v5 : single-length
.line 301
	const-string	v5,""
; v5 : Ljava/lang/String;
	new-instance	v6,java/lang/StringBuilder
; v6 : Ljava/lang/StringBuilder;
	invoke-direct	{v6},java/lang/StringBuilder/<init>	; <init>()V
; v6 : Ljava/lang/StringBuilder;
	const-string	v7,"AttachmentManager.queryAndStartDownloadingAttachment() found previous record with status "
; v7 : Ljava/lang/String;
	invoke-virtual	{v6,v7},java/lang/StringBuilder/append	; append(Ljava/lang/String;)Ljava/lang/StringBuilder;
; v6 : Ljava/lang/StringBuilder; , v7 : Ljava/lang/String;
	move-result-object	v6
; v6 : Ljava/lang/StringBuilder;
	move-object	v0,v6
; v0 : Ljava/lang/StringBuilder; , v6 : Ljava/lang/StringBuilder;
	move/from16	v1,v24
; v1 : single-length , v24 : single-length
	invoke-virtual	{v0,v1},java/lang/StringBuilder/append	; append(I)Ljava/lang/StringBuilder;
; v0 : Ljava/lang/StringBuilder; , v1 : single-length
	move-result-object	v6
; v6 : Ljava/lang/StringBuilder;
	invoke-virtual	{v6},java/lang/StringBuilder/toString	; toString()Ljava/lang/String;
; v6 : Ljava/lang/StringBuilder;
	move-result-object	v6
; v6 : Ljava/lang/String;
	invoke-static	{v5,v6},android/util/Log/v	; v(Ljava/lang/String;Ljava/lang/String;)I
; v5 : Ljava/lang/String; , v6 : Ljava/lang/String;
l5e1aa:
.line 313
	invoke-static/range	{v24},com/google/android/gm/downloadprovider/Downloads/isStatusSuccess;	isStatusSuccess(I)Z
; v24 : single-length
	move-result	v5
; v5 : single-length
	if-eqz	v5,l5e25a
; v5 : single-length
.line 315
	move-object/from16	v0,v25
; v0 : Lcom/google/android/gm/provider/AttachmentManager; , v25 : Lcom/google/android/gm/provider/AttachmentManager;
	move-wide/from16	v1,v17
; v1 : double-length , v17 : double-length
	invoke-direct	{v0,v1,v2},com/google/android/gm/provider/AttachmentManager/isDownloadStillPresent	; isDownloadStillPresent(J)Z
; v0 : Lcom/google/android/gm/provider/AttachmentManager; , v1 : double-length
	move-result	v5
; v5 : single-length
	if-nez	v5,l5e204
; v5 : single-length
.line 320
	const/16	v19,1
; v19 : single-length
.line 321
	const-string	v5,"Gmail"
; v5 : Ljava/lang/String;
	new-instance	v6,java/lang/StringBuilder
; v6 : Ljava/lang/StringBuilder;
	invoke-direct	{v6},java/lang/StringBuilder/<init>	; <init>()V
; v6 : Ljava/lang/StringBuilder;
	const-string	v7,"Deleting and refetching attachment because it could not be found: "
; v7 : Ljava/lang/String;
	invoke-virtual	{v6,v7},java/lang/StringBuilder/append	; append(Ljava/lang/String;)Ljava/lang/StringBuilder;
; v6 : Ljava/lang/StringBuilder; , v7 : Ljava/lang/String;
	move-result-object	v6
; v6 : Ljava/lang/StringBuilder;
	move-object	v0,v6
; v0 : Ljava/lang/StringBuilder; , v6 : Ljava/lang/StringBuilder;
	move-object/from16	v1,v16
; v1 : Ljava/lang/String; , v16 : Ljava/lang/String;
	invoke-virtual	{v0,v1},java/lang/StringBuilder/append	; append(Ljava/lang/String;)Ljava/lang/StringBuilder;
; v0 : Ljava/lang/StringBuilder; , v1 : Ljava/lang/String;
	move-result-object	v6
; v6 : Ljava/lang/StringBuilder;
	invoke-virtual	{v6},java/lang/StringBuilder/toString	; toString()Ljava/lang/String;
; v6 : Ljava/lang/StringBuilder;
	move-result-object	v6
; v6 : Ljava/lang/String;
	invoke-static	{v5,v6},android/util/Log/w	; w(Ljava/lang/String;Ljava/lang/String;)I
; v5 : Ljava/lang/String; , v6 : Ljava/lang/String;
l5e204:
.line 341
	if-eqz	v19,l5e0e8
; v19 : single-length
.line 342
	move-object/from16	v0,v25
; v0 : Lcom/google/android/gm/provider/AttachmentManager; , v25 : Lcom/google/android/gm/provider/AttachmentManager;
	move-wide	v1,v14
; v1 : double-length , v14 : double-length
	move-wide/from16	v3,v17
; v3 : double-length , v17 : double-length
	invoke-direct	{v0,v1,v2,v3,v4},com/google/android/gm/provider/AttachmentManager/deleteAttachmentAndDownloadRequest	; deleteAttachmentAndDownloadRequest(JJ)V
; v0 : Lcom/google/android/gm/provider/AttachmentManager; , v1 : double-length , v3 : double-length
	move-object/from16	v5,v25
; v5 : Lcom/google/android/gm/provider/AttachmentManager; , v25 : Lcom/google/android/gm/provider/AttachmentManager;
	move-wide/from16	v6,v26
; v6 : double-length , v26 : double-length
	move-wide/from16	v8,v28
; v8 : double-length , v28 : double-length
	move-object/from16	v10,v30
; v10 : Lcom/google/android/gm/provider/Gmail$Attachment; , v30 : Lcom/google/android/gm/provider/Gmail$Attachment;
	move-object/from16	v11,v31
; v11 : Lcom/google/android/gm/provider/Gmail$AttachmentRendition; , v31 : Lcom/google/android/gm/provider/Gmail$AttachmentRendition;
	move/from16	v12,v32
; v12 : single-length , v32 : single-length
.line 343
	invoke-virtual/range	{v5..v13},com/google/android/gm/provider/AttachmentManager/recordAttachmentInDb;	recordAttachmentInDb(JJLcom/google/android/gm/provider/Gmail$Attachment;Lcom/google/android/gm/provider/Gmail$AttachmentRendition;ZZ)J
; v5 : Lcom/google/android/gm/provider/AttachmentManager; , v6 : double-length , v8 : double-length , v10 : Lcom/google/android/gm/provider/Gmail$Attachment; , v11 : Lcom/google/android/gm/provider/Gmail$AttachmentRendition; , v12 : single-length , v13 : single-length
	move-result-wide	v20
; v20 : double-length
.line 348
	move-object/from16	v0,v25
; v0 : Lcom/google/android/gm/provider/AttachmentManager; , v25 : Lcom/google/android/gm/provider/AttachmentManager;
	move-wide/from16	v1,v20
; v1 : double-length , v20 : double-length
	invoke-direct	{v0,v1,v2},com/google/android/gm/provider/AttachmentManager/startAttachmentDownloadInDownloadManager	; startAttachmentDownloadInDownloadManager(J)V
; v0 : Lcom/google/android/gm/provider/AttachmentManager; , v1 : double-length
l5e246:
	goto/16	l5e0e8
l5e24a:
.line 352
	move-exception	v5
; v5 : java/lang/Exception
	invoke-interface/range	{v22},android/database/Cursor/close;	close()V
; v22 : Landroid/database/Cursor;
	throw	v5
; v5 : java/lang/Exception
l5e254:
.line 299
	const/4	v5,0
; v5 : single-length
	move	v13,v5
; v13 : single-length , v5 : single-length
	goto	l5e162
l5e25a:
.line 325
	invoke-static/range	{v24},com/google/android/gm/downloadprovider/Downloads/isStatusError;	isStatusError(I)Z
; v24 : single-length
	move-result	v5
; v5 : single-length
	if-eqz	v5,l5e2a2
; v5 : single-length
.line 326
	const/16	v19,1
; v19 : single-length
.line 327
	const-string	v5,"Gmail"
; v5 : Ljava/lang/String;
	new-instance	v6,java/lang/StringBuilder
; v6 : Ljava/lang/StringBuilder;
	invoke-direct	{v6},java/lang/StringBuilder/<init>	; <init>()V
; v6 : Ljava/lang/StringBuilder;
	const-string	v7,"Deleting and refetching attachment because it had already failed: "
; v7 : Ljava/lang/String;
	invoke-virtual	{v6,v7},java/lang/StringBuilder/append	; append(Ljava/lang/String;)Ljava/lang/StringBuilder;
; v6 : Ljava/lang/StringBuilder; , v7 : Ljava/lang/String;
	move-result-object	v6
; v6 : Ljava/lang/StringBuilder;
	move-object	v0,v6
; v0 : Ljava/lang/StringBuilder; , v6 : Ljava/lang/StringBuilder;
	move-object/from16	v1,v16
; v1 : Ljava/lang/String; , v16 : Ljava/lang/String;
	invoke-virtual	{v0,v1},java/lang/StringBuilder/append	; append(Ljava/lang/String;)Ljava/lang/StringBuilder;
; v0 : Ljava/lang/StringBuilder; , v1 : Ljava/lang/String;
	move-result-object	v6
; v6 : Ljava/lang/StringBuilder;
	invoke-virtual	{v6},java/lang/StringBuilder/toString	; toString()Ljava/lang/String;
; v6 : Ljava/lang/StringBuilder;
	move-result-object	v6
; v6 : Ljava/lang/String;
	invoke-static	{v5,v6},android/util/Log/w	; w(Ljava/lang/String;Ljava/lang/String;)I
; v5 : Ljava/lang/String; , v6 : Ljava/lang/String;
	goto	l5e204
l5e2a2:
.line 330
	const/16	v5,192
; v5 : single-length
	move	v0,v5
; v0 : single-length , v5 : single-length
	move/from16	v1,v24
; v1 : single-length , v24 : single-length
	if-ne	v0,v1,l5e204
; v0 : single-length , v1 : single-length
.line 336
	const/16	v19,1
; v19 : single-length
.line 337
	const-string	v5,"Gmail"
; v5 : Ljava/lang/String;
	new-instance	v6,java/lang/StringBuilder
; v6 : Ljava/lang/StringBuilder;
	invoke-direct	{v6},java/lang/StringBuilder/<init>	; <init>()V
; v6 : Ljava/lang/StringBuilder;
	const-string	v7,"Invalid state with previous download still 'running"
; v7 : Ljava/lang/String;
	invoke-virtual	{v6,v7},java/lang/StringBuilder/append	; append(Ljava/lang/String;)Ljava/lang/StringBuilder;
; v6 : Ljava/lang/StringBuilder; , v7 : Ljava/lang/String;
	move-result-object	v6
; v6 : Ljava/lang/StringBuilder;
	move-object	v0,v6
; v0 : Ljava/lang/StringBuilder; , v6 : Ljava/lang/StringBuilder;
	move-object/from16	v1,v16
; v1 : Ljava/lang/String; , v16 : Ljava/lang/String;
	invoke-virtual	{v0,v1},java/lang/StringBuilder/append	; append(Ljava/lang/String;)Ljava/lang/StringBuilder;
; v0 : Ljava/lang/StringBuilder; , v1 : Ljava/lang/String;
	move-result-object	v6
; v6 : Ljava/lang/StringBuilder;
	invoke-virtual	{v6},java/lang/StringBuilder/toString	; toString()Ljava/lang/String;
; v6 : Ljava/lang/StringBuilder;
	move-result-object	v6
; v6 : Ljava/lang/String;
	invoke-static	{v5,v6},android/util/Log/w	; w(Ljava/lang/String;Ljava/lang/String;)I
; v5 : Ljava/lang/String; , v6 : Ljava/lang/String;
l5e2ea:
	goto	l5e204
.end method

.method recordAttachmentInDb(JJLcom/google/android/gm/provider/Gmail$Attachment;Lcom/google/android/gm/provider/Gmail$AttachmentRendition;ZZ)J
.limit registers 14
; this: v5 (Lcom/google/android/gm/provider/AttachmentManager;)
; parameter[0] : v6 (J)
; parameter[1] : v8 (J)
; parameter[2] : v10 (Lcom/google/android/gm/provider/Gmail$Attachment;)
; parameter[3] : v11 (Lcom/google/android/gm/provider/Gmail$AttachmentRendition;)
; parameter[4] : v12 (Z)
; parameter[5] : v13 (Z)
	const/4	v4,1
; v4 : single-length
	const/4	v3,0
; v3 : single-length
.line 251
	new-instance	v0,android/content/ContentValues
; v0 : Landroid/content/ContentValues;
	invoke-direct	{v0},android/content/ContentValues/<init>	; <init>()V
; v0 : Landroid/content/ContentValues;
.line 252
	const-string	v1,"messages_conversation"
; v1 : Ljava/lang/String;
	invoke-static	{v6,v7},java/lang/Long/valueOf	; valueOf(J)Ljava/lang/Long;
; v6 : double-length
	move-result-object	v2
; v2 : Ljava/lang/Long;
	invoke-virtual	{v0,v1,v2},android/content/ContentValues/put	; put(Ljava/lang/String;Ljava/lang/Long;)V
; v0 : Landroid/content/ContentValues; , v1 : Ljava/lang/String; , v2 : Ljava/lang/Long;
.line 253
	const-string	v1,"messages_messageId"
; v1 : Ljava/lang/String;
	invoke-static	{v8,v9},java/lang/Long/valueOf	; valueOf(J)Ljava/lang/Long;
; v8 : double-length
	move-result-object	v2
; v2 : Ljava/lang/Long;
	invoke-virtual	{v0,v1,v2},android/content/ContentValues/put	; put(Ljava/lang/String;Ljava/lang/Long;)V
; v0 : Landroid/content/ContentValues; , v1 : Ljava/lang/String; , v2 : Ljava/lang/Long;
.line 254
	const-string	v1,"messages_partId"
; v1 : Ljava/lang/String;
	iget-object	v2,v10,com/google/android/gm/provider/Gmail$Attachment.partId Ljava/lang/String;
; v2 : Ljava/lang/String; , v10 : Lcom/google/android/gm/provider/Gmail$Attachment;
	invoke-virtual	{v0,v1,v2},android/content/ContentValues/put	; put(Ljava/lang/String;Ljava/lang/String;)V
; v0 : Landroid/content/ContentValues; , v1 : Ljava/lang/String; , v2 : Ljava/lang/String;
.line 255
	const-string	v1,"originExtras"
; v1 : Ljava/lang/String;
	iget-object	v2,v10,com/google/android/gm/provider/Gmail$Attachment.originExtras Ljava/lang/String;
; v2 : Ljava/lang/String; , v10 : Lcom/google/android/gm/provider/Gmail$Attachment;
	invoke-virtual	{v0,v1,v2},android/content/ContentValues/put	; put(Ljava/lang/String;Ljava/lang/String;)V
; v0 : Landroid/content/ContentValues; , v1 : Ljava/lang/String; , v2 : Ljava/lang/String;
.line 256
	const-string	v1,"desiredRendition"
; v1 : Ljava/lang/String;
	invoke-virtual	{v11},com/google/android/gm/provider/Gmail$AttachmentRendition/toString	; toString()Ljava/lang/String;
; v11 : Lcom/google/android/gm/provider/Gmail$AttachmentRendition;
	move-result-object	v2
; v2 : Ljava/lang/String;
	invoke-virtual	{v0,v1,v2},android/content/ContentValues/put	; put(Ljava/lang/String;Ljava/lang/String;)V
; v0 : Landroid/content/ContentValues; , v1 : Ljava/lang/String; , v2 : Ljava/lang/String;
.line 257
	const-string	v1,"downloadedRendition"
; v1 : Ljava/lang/String;
	invoke-virtual	{v11},com/google/android/gm/provider/Gmail$AttachmentRendition/toString	; toString()Ljava/lang/String;
; v11 : Lcom/google/android/gm/provider/Gmail$AttachmentRendition;
	move-result-object	v2
; v2 : Ljava/lang/String;
	invoke-virtual	{v0,v1,v2},android/content/ContentValues/put	; put(Ljava/lang/String;Ljava/lang/String;)V
; v0 : Landroid/content/ContentValues; , v1 : Ljava/lang/String; , v2 : Ljava/lang/String;
.line 258
	const-string	v1,"downloadId"
; v1 : Ljava/lang/String;
	invoke-static	{v3},java/lang/Integer/valueOf	; valueOf(I)Ljava/lang/Integer;
; v3 : single-length
	move-result-object	v2
; v2 : Ljava/lang/Integer;
	invoke-virtual	{v0,v1,v2},android/content/ContentValues/put	; put(Ljava/lang/String;Ljava/lang/Integer;)V
; v0 : Landroid/content/ContentValues; , v1 : Ljava/lang/String; , v2 : Ljava/lang/Integer;
.line 259
	const-string	v1,"saveToSd"
; v1 : Ljava/lang/String;
	if-eqz	v12,l5e406
; v12 : single-length
	move	v2,v4
; v2 : single-length , v4 : single-length
l5e3a6:
	invoke-static	{v2},java/lang/Integer/valueOf	; valueOf(I)Ljava/lang/Integer;
; v2 : single-length
	move-result-object	v2
; v2 : Ljava/lang/Integer;
	invoke-virtual	{v0,v1,v2},android/content/ContentValues/put	; put(Ljava/lang/String;Ljava/lang/Integer;)V
; v0 : Landroid/content/ContentValues; , v1 : Ljava/lang/String; , v2 : Ljava/lang/Integer;
.line 260
	const-string	v1,"automatic"
; v1 : Ljava/lang/String;
	if-eqz	v13,l5e40a
; v13 : single-length
	move	v2,v4
; v2 : single-length , v4 : single-length
l5e3be:
	invoke-static	{v2},java/lang/Integer/valueOf	; valueOf(I)Ljava/lang/Integer;
; v2 : single-length
	move-result-object	v2
; v2 : Ljava/lang/Integer;
	invoke-virtual	{v0,v1,v2},android/content/ContentValues/put	; put(Ljava/lang/String;Ljava/lang/Integer;)V
; v0 : Landroid/content/ContentValues; , v1 : Ljava/lang/String; , v2 : Ljava/lang/Integer;
.line 261
	const-string	v1,"filename"
; v1 : Ljava/lang/String;
	iget-object	v2,v10,com/google/android/gm/provider/Gmail$Attachment.name Ljava/lang/String;
; v2 : Ljava/lang/String; , v10 : Lcom/google/android/gm/provider/Gmail$Attachment;
	invoke-virtual	{v0,v1,v2},android/content/ContentValues/put	; put(Ljava/lang/String;Ljava/lang/String;)V
; v0 : Landroid/content/ContentValues; , v1 : Ljava/lang/String; , v2 : Ljava/lang/String;
.line 262
	const-string	v1,"status"
; v1 : Ljava/lang/String;
	const/16	v2,190
; v2 : single-length
	invoke-static	{v2},java/lang/Integer/valueOf	; valueOf(I)Ljava/lang/Integer;
; v2 : single-length
	move-result-object	v2
; v2 : Ljava/lang/Integer;
	invoke-virtual	{v0,v1,v2},android/content/ContentValues/put	; put(Ljava/lang/String;Ljava/lang/Integer;)V
; v0 : Landroid/content/ContentValues; , v1 : Ljava/lang/String; , v2 : Ljava/lang/Integer;
.line 266
	iget-object	v1,v5,com/google/android/gm/provider/AttachmentManager.mDb Landroid/database/sqlite/SQLiteDatabase;
; v1 : Landroid/database/sqlite/SQLiteDatabase; , v5 : Lcom/google/android/gm/provider/AttachmentManager;
	const-string	v2,"attachments"
; v2 : Ljava/lang/String;
	const/4	v3,0
; v3 : single-length
	const/4	v4,4
; v4 : single-length
	invoke-virtual	{v1,v2,v3,v0,v4},android/database/sqlite/SQLiteDatabase/insertWithOnConflict	; insertWithOnConflict(Ljava/lang/String;Ljava/lang/String;Landroid/content/ContentValues;I)J
; v1 : Landroid/database/sqlite/SQLiteDatabase; , v2 : Ljava/lang/String; , v3 : single-length , v0 : Landroid/content/ContentValues; , v4 : single-length
	move-result-wide	v1
; v1 : double-length
	return-wide	v1
; v1 : double-length
l5e406:
	move	v2,v3
; v2 : single-length , v3 : single-length
.line 259
	goto	l5e3a6
l5e40a:
	move	v2,v3
; v2 : single-length , v3 : single-length
.line 260
	goto	l5e3be
.end method

.method public updateMessageId(JJ)V
.limit registers 10
; this: v5 (Lcom/google/android/gm/provider/AttachmentManager;)
; parameter[0] : v6 (J)
; parameter[1] : v8 (J)
.line 521
	new-instance	v1,android/content/ContentValues
; v1 : Landroid/content/ContentValues;
	invoke-direct	{v1},android/content/ContentValues/<init>	; <init>()V
; v1 : Landroid/content/ContentValues;
.line 522
	const-string	v2,"messages_messageId"
; v2 : Ljava/lang/String;
	invoke-static	{v8,v9},java/lang/Long/valueOf	; valueOf(J)Ljava/lang/Long;
; v8 : double-length
	move-result-object	v3
; v3 : Ljava/lang/Long;
	invoke-virtual	{v1,v2,v3},android/content/ContentValues/put	; put(Ljava/lang/String;Ljava/lang/Long;)V
; v1 : Landroid/content/ContentValues; , v2 : Ljava/lang/String; , v3 : Ljava/lang/Long;
.line 523
	const/4	v2,1
; v2 : single-length
	new-array	v0,v2,[Ljava/lang/String;
; v0 : [Ljava/lang/String; , v2 : single-length
	const/4	v2,0
; v2 : single-length
	invoke-static	{v6,v7},java/lang/Long/toString	; toString(J)Ljava/lang/String;
; v6 : double-length
	move-result-object	v3
; v3 : Ljava/lang/String;
	aput-object	v3,v0,v2
; v3 : Ljava/lang/String; , v0 : [Ljava/lang/String; , v2 : single-length
.line 524
	iget-object	v2,v5,com/google/android/gm/provider/AttachmentManager.mDb Landroid/database/sqlite/SQLiteDatabase;
; v2 : Landroid/database/sqlite/SQLiteDatabase; , v5 : Lcom/google/android/gm/provider/AttachmentManager;
	const-string	v3,"attachments"
; v3 : Ljava/lang/String;
	const-string	v4,"messages_messageId = ?"
; v4 : Ljava/lang/String;
	invoke-virtual	{v2,v3,v1,v4,v0},android/database/sqlite/SQLiteDatabase/update	; update(Ljava/lang/String;Landroid/content/ContentValues;Ljava/lang/String;[Ljava/lang/String;)I
; v2 : Landroid/database/sqlite/SQLiteDatabase; , v3 : Ljava/lang/String; , v1 : Landroid/content/ContentValues; , v4 : Ljava/lang/String; , v0 : [Ljava/lang/String;
.line 527
	return-void	
.end method


